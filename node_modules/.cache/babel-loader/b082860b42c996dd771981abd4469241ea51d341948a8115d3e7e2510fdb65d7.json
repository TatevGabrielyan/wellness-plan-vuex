{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\r\n * DevExtreme (esm/viz/chart_components/layout_manager.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { isNumeric as _isNumber } from \"../../core/utils/type\";\nimport consts from \"../components/consts\";\nimport { WrapperLayoutElement } from \"../core/layout_element\";\nvar {\n  floor: floor,\n  sqrt: sqrt\n} = Math;\nvar _min = Math.min;\nvar _max = Math.max;\nvar DEFAULT_INNER_RADIUS = .5;\nvar RADIAL_LABEL_INDENT = consts.radialLabelIndent;\nfunction getNearestCoord(firstCoord, secondCoord, pointCenterCoord) {\n  var nearestCoord;\n  if (pointCenterCoord < firstCoord) {\n    nearestCoord = firstCoord;\n  } else if (secondCoord < pointCenterCoord) {\n    nearestCoord = secondCoord;\n  } else {\n    nearestCoord = pointCenterCoord;\n  }\n  return nearestCoord;\n}\nfunction getLabelLayout(point) {\n  if (point._label.isVisible() && \"inside\" !== point._label.getLayoutOptions().position) {\n    return point._label.getBoundingRect();\n  }\n}\nfunction getPieRadius(series, paneCenterX, paneCenterY, accessibleRadius, minR) {\n  series.some(function (singleSeries) {\n    return singleSeries.getVisiblePoints().reduce(function (radiusIsFound, point) {\n      var labelBBox = getLabelLayout(point);\n      if (labelBBox) {\n        var xCoords = getNearestCoord(labelBBox.x, labelBBox.x + labelBBox.width, paneCenterX);\n        var yCoords = getNearestCoord(labelBBox.y, labelBBox.y + labelBBox.height, paneCenterY);\n        accessibleRadius = _min(_max(getLengthFromCenter(xCoords, yCoords, paneCenterX, paneCenterY) - RADIAL_LABEL_INDENT, minR), accessibleRadius);\n        radiusIsFound = true;\n      }\n      return radiusIsFound;\n    }, false);\n  });\n  return accessibleRadius;\n}\nfunction getSizeLabels(series) {\n  return series.reduce(function (res, singleSeries) {\n    var maxWidth = singleSeries.getVisiblePoints().reduce(function (width, point) {\n      var labelBBox = getLabelLayout(point);\n      if (labelBBox && labelBBox.width > width) {\n        width = labelBBox.width;\n      }\n      return width;\n    }, 0);\n    var rWidth = maxWidth;\n    if (maxWidth) {\n      res.outerLabelsCount++;\n      if (res.outerLabelsCount > 1) {\n        maxWidth += consts.pieLabelSpacing;\n      }\n      rWidth += consts.pieLabelSpacing;\n    }\n    res.sizes.push(maxWidth);\n    res.rSizes.push(rWidth);\n    res.common += maxWidth;\n    return res;\n  }, {\n    sizes: [],\n    rSizes: [],\n    common: 0,\n    outerLabelsCount: 0\n  });\n}\nfunction correctLabelRadius(labelSizes, radius, series, canvas, averageWidthLabels, centerX) {\n  var curRadius;\n  var i;\n  var runningWidth = 0;\n  var sizes = labelSizes.sizes;\n  var rSizes = labelSizes.rSizes;\n  for (i = 0; i < series.length; i++) {\n    if (0 === sizes[i]) {\n      curRadius && (curRadius += rSizes[i - 1]);\n      continue;\n    }\n    curRadius = floor(curRadius ? curRadius + rSizes[i - 1] : radius);\n    series[i].correctLabelRadius(curRadius);\n    runningWidth += averageWidthLabels || sizes[i];\n    rSizes[i] = averageWidthLabels || rSizes[i];\n    series[i].setVisibleArea({\n      left: floor(centerX - radius - runningWidth),\n      right: floor(canvas.width - (centerX + radius + runningWidth)),\n      top: canvas.top,\n      bottom: canvas.bottom,\n      width: canvas.width,\n      height: canvas.height\n    });\n  }\n}\nfunction getLengthFromCenter(x, y, paneCenterX, paneCenterY) {\n  return sqrt((x - paneCenterX) * (x - paneCenterX) + (y - paneCenterY) * (y - paneCenterY));\n}\nfunction getInnerRadius(_ref) {\n  var {\n    type: type,\n    innerRadius: innerRadius\n  } = _ref;\n  return \"pie\" === type ? 0 : _isNumber(innerRadius) ? Number(innerRadius) : DEFAULT_INNER_RADIUS;\n}\nfunction LayoutManager() {}\nfunction getAverageLabelWidth(centerX, radius, canvas, sizeLabels) {\n  return (centerX - radius - RADIAL_LABEL_INDENT - canvas.left) / sizeLabels.outerLabelsCount;\n}\nfunction getFullRadiusWithLabels(centerX, canvas, sizeLabels) {\n  return centerX - canvas.left - (sizeLabels.outerLabelsCount > 0 ? sizeLabels.common + RADIAL_LABEL_INDENT : 0);\n}\nfunction correctAvailableRadius(availableRadius, canvas, series, minR, paneCenterX, paneCenterY) {\n  var sizeLabels = getSizeLabels(series);\n  var averageWidthLabels;\n  var fullRadiusWithLabels = getFullRadiusWithLabels(paneCenterX, canvas, sizeLabels);\n  if (fullRadiusWithLabels < minR) {\n    availableRadius = minR;\n    averageWidthLabels = getAverageLabelWidth(paneCenterX, availableRadius, canvas, sizeLabels);\n  } else {\n    availableRadius = _min(getPieRadius(series, paneCenterX, paneCenterY, availableRadius, minR), fullRadiusWithLabels);\n  }\n  correctLabelRadius(sizeLabels, availableRadius + RADIAL_LABEL_INDENT, series, canvas, averageWidthLabels, paneCenterX);\n  return availableRadius;\n}\nfunction toLayoutElementCoords(canvas) {\n  return new WrapperLayoutElement(null, {\n    x: canvas.left,\n    y: canvas.top,\n    width: canvas.width - canvas.left - canvas.right,\n    height: canvas.height - canvas.top - canvas.bottom\n  });\n}\nLayoutManager.prototype = {\n  constructor: LayoutManager,\n  setOptions: function (options) {\n    this._options = options;\n  },\n  applyPieChartSeriesLayout: function (canvas, series, hideLayoutLabels) {\n    var paneSpaceHeight = canvas.height - canvas.top - canvas.bottom;\n    var paneSpaceWidth = canvas.width - canvas.left - canvas.right;\n    var paneCenterX = paneSpaceWidth / 2 + canvas.left;\n    var paneCenterY = paneSpaceHeight / 2 + canvas.top;\n    var piePercentage = this._options.piePercentage;\n    var availableRadius;\n    var minR;\n    if (_isNumber(piePercentage)) {\n      availableRadius = minR = piePercentage * _min(canvas.height, canvas.width) / 2;\n    } else {\n      availableRadius = _min(paneSpaceWidth, paneSpaceHeight) / 2;\n      minR = this._options.minPiePercentage * availableRadius;\n    }\n    if (!hideLayoutLabels) {\n      availableRadius = correctAvailableRadius(availableRadius, canvas, series, minR, paneCenterX, paneCenterY);\n    }\n    return {\n      centerX: floor(paneCenterX),\n      centerY: floor(paneCenterY),\n      radiusInner: floor(availableRadius * getInnerRadius(series[0])),\n      radiusOuter: floor(availableRadius)\n    };\n  },\n  applyEqualPieChartLayout: function (series, layout) {\n    var radius = layout.radius;\n    return {\n      centerX: floor(layout.x),\n      centerY: floor(layout.y),\n      radiusInner: floor(radius * getInnerRadius(series[0])),\n      radiusOuter: floor(radius)\n    };\n  },\n  correctPieLabelRadius: function (series, layout, canvas) {\n    var sizeLabels = getSizeLabels(series);\n    var averageWidthLabels;\n    var radius = layout.radiusOuter + RADIAL_LABEL_INDENT;\n    var availableLabelWidth = layout.centerX - canvas.left - radius;\n    if (sizeLabels.common + RADIAL_LABEL_INDENT > availableLabelWidth) {\n      averageWidthLabels = getAverageLabelWidth(layout.centerX, layout.radiusOuter, canvas, sizeLabels);\n    }\n    correctLabelRadius(sizeLabels, radius, series, canvas, averageWidthLabels, layout.centerX);\n  },\n  needMoreSpaceForPanesCanvas(panes, rotated, fixedSizeCallback) {\n    var options = this._options;\n    var width = options.width;\n    var height = options.height;\n    var piePercentage = options.piePercentage;\n    var percentageIsValid = _isNumber(piePercentage);\n    var needHorizontalSpace = 0;\n    var needVerticalSpace = 0;\n    panes.forEach(pane => {\n      var paneCanvas = pane.canvas;\n      var minSize = percentageIsValid ? _min(paneCanvas.width, paneCanvas.height) * piePercentage : void 0;\n      var paneSized = fixedSizeCallback ? fixedSizeCallback(pane) : {\n        width: false,\n        height: false\n      };\n      var needPaneHorizontalSpace = !paneSized.width ? (percentageIsValid ? minSize : width) - (paneCanvas.width - paneCanvas.left - paneCanvas.right) : 0;\n      var needPaneVerticalSpace = !paneSized.height ? (percentageIsValid ? minSize : height) - (paneCanvas.height - paneCanvas.top - paneCanvas.bottom) : 0;\n      if (rotated) {\n        needHorizontalSpace += needPaneHorizontalSpace > 0 ? needPaneHorizontalSpace : 0;\n        needVerticalSpace = _max(needPaneVerticalSpace > 0 ? needPaneVerticalSpace : 0, needVerticalSpace);\n      } else {\n        needHorizontalSpace = _max(needPaneHorizontalSpace > 0 ? needPaneHorizontalSpace : 0, needHorizontalSpace);\n        needVerticalSpace += needPaneVerticalSpace > 0 ? needPaneVerticalSpace : 0;\n      }\n    });\n    return needHorizontalSpace > 0 || needVerticalSpace > 0 ? {\n      width: needHorizontalSpace,\n      height: needVerticalSpace\n    } : false;\n  },\n  layoutInsideLegend: function (legend, canvas) {\n    var layoutOptions = legend.getLayoutOptions();\n    if (!layoutOptions) {\n      return;\n    }\n    var position = layoutOptions.position;\n    var cutSide = layoutOptions.cutSide;\n    var my = {\n      horizontal: position.horizontal,\n      vertical: position.vertical\n    };\n    canvas[layoutOptions.cutLayoutSide] += \"horizontal\" === layoutOptions.cutSide ? layoutOptions.width : layoutOptions.height;\n    my[cutSide] = {\n      left: \"right\",\n      right: \"left\",\n      top: \"bottom\",\n      bottom: \"top\",\n      center: \"center\"\n    }[my[cutSide]];\n    legend.position({\n      of: toLayoutElementCoords(canvas),\n      my: my,\n      at: position\n    });\n  }\n};\nexport { LayoutManager };","map":{"version":3,"names":["isNumeric","_isNumber","consts","WrapperLayoutElement","floor","sqrt","Math","_min","min","_max","max","DEFAULT_INNER_RADIUS","RADIAL_LABEL_INDENT","radialLabelIndent","getNearestCoord","firstCoord","secondCoord","pointCenterCoord","nearestCoord","getLabelLayout","point","_label","isVisible","getLayoutOptions","position","getBoundingRect","getPieRadius","series","paneCenterX","paneCenterY","accessibleRadius","minR","some","singleSeries","getVisiblePoints","reduce","radiusIsFound","labelBBox","xCoords","x","width","yCoords","y","height","getLengthFromCenter","getSizeLabels","res","maxWidth","rWidth","outerLabelsCount","pieLabelSpacing","sizes","push","rSizes","common","correctLabelRadius","labelSizes","radius","canvas","averageWidthLabels","centerX","curRadius","i","runningWidth","length","setVisibleArea","left","right","top","bottom","getInnerRadius","_ref","type","innerRadius","Number","LayoutManager","getAverageLabelWidth","sizeLabels","getFullRadiusWithLabels","correctAvailableRadius","availableRadius","fullRadiusWithLabels","toLayoutElementCoords","prototype","constructor","setOptions","options","_options","applyPieChartSeriesLayout","hideLayoutLabels","paneSpaceHeight","paneSpaceWidth","piePercentage","minPiePercentage","centerY","radiusInner","radiusOuter","applyEqualPieChartLayout","layout","correctPieLabelRadius","availableLabelWidth","needMoreSpaceForPanesCanvas","panes","rotated","fixedSizeCallback","percentageIsValid","needHorizontalSpace","needVerticalSpace","forEach","pane","paneCanvas","minSize","paneSized","needPaneHorizontalSpace","needPaneVerticalSpace","layoutInsideLegend","legend","layoutOptions","cutSide","my","horizontal","vertical","cutLayoutSide","center","of","at"],"sources":["C:/Users/User/vue-chart/node_modules/devextreme/esm/viz/chart_components/layout_manager.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/chart_components/layout_manager.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isNumeric as _isNumber\r\n} from \"../../core/utils/type\";\r\nimport consts from \"../components/consts\";\r\nimport {\r\n    WrapperLayoutElement\r\n} from \"../core/layout_element\";\r\nvar {\r\n    floor: floor,\r\n    sqrt: sqrt\r\n} = Math;\r\nvar _min = Math.min;\r\nvar _max = Math.max;\r\nvar DEFAULT_INNER_RADIUS = .5;\r\nvar RADIAL_LABEL_INDENT = consts.radialLabelIndent;\r\n\r\nfunction getNearestCoord(firstCoord, secondCoord, pointCenterCoord) {\r\n    var nearestCoord;\r\n    if (pointCenterCoord < firstCoord) {\r\n        nearestCoord = firstCoord\r\n    } else if (secondCoord < pointCenterCoord) {\r\n        nearestCoord = secondCoord\r\n    } else {\r\n        nearestCoord = pointCenterCoord\r\n    }\r\n    return nearestCoord\r\n}\r\n\r\nfunction getLabelLayout(point) {\r\n    if (point._label.isVisible() && \"inside\" !== point._label.getLayoutOptions().position) {\r\n        return point._label.getBoundingRect()\r\n    }\r\n}\r\n\r\nfunction getPieRadius(series, paneCenterX, paneCenterY, accessibleRadius, minR) {\r\n    series.some((function(singleSeries) {\r\n        return singleSeries.getVisiblePoints().reduce((function(radiusIsFound, point) {\r\n            var labelBBox = getLabelLayout(point);\r\n            if (labelBBox) {\r\n                var xCoords = getNearestCoord(labelBBox.x, labelBBox.x + labelBBox.width, paneCenterX);\r\n                var yCoords = getNearestCoord(labelBBox.y, labelBBox.y + labelBBox.height, paneCenterY);\r\n                accessibleRadius = _min(_max(getLengthFromCenter(xCoords, yCoords, paneCenterX, paneCenterY) - RADIAL_LABEL_INDENT, minR), accessibleRadius);\r\n                radiusIsFound = true\r\n            }\r\n            return radiusIsFound\r\n        }), false)\r\n    }));\r\n    return accessibleRadius\r\n}\r\n\r\nfunction getSizeLabels(series) {\r\n    return series.reduce((function(res, singleSeries) {\r\n        var maxWidth = singleSeries.getVisiblePoints().reduce((function(width, point) {\r\n            var labelBBox = getLabelLayout(point);\r\n            if (labelBBox && labelBBox.width > width) {\r\n                width = labelBBox.width\r\n            }\r\n            return width\r\n        }), 0);\r\n        var rWidth = maxWidth;\r\n        if (maxWidth) {\r\n            res.outerLabelsCount++;\r\n            if (res.outerLabelsCount > 1) {\r\n                maxWidth += consts.pieLabelSpacing\r\n            }\r\n            rWidth += consts.pieLabelSpacing\r\n        }\r\n        res.sizes.push(maxWidth);\r\n        res.rSizes.push(rWidth);\r\n        res.common += maxWidth;\r\n        return res\r\n    }), {\r\n        sizes: [],\r\n        rSizes: [],\r\n        common: 0,\r\n        outerLabelsCount: 0\r\n    })\r\n}\r\n\r\nfunction correctLabelRadius(labelSizes, radius, series, canvas, averageWidthLabels, centerX) {\r\n    var curRadius;\r\n    var i;\r\n    var runningWidth = 0;\r\n    var sizes = labelSizes.sizes;\r\n    var rSizes = labelSizes.rSizes;\r\n    for (i = 0; i < series.length; i++) {\r\n        if (0 === sizes[i]) {\r\n            curRadius && (curRadius += rSizes[i - 1]);\r\n            continue\r\n        }\r\n        curRadius = floor(curRadius ? curRadius + rSizes[i - 1] : radius);\r\n        series[i].correctLabelRadius(curRadius);\r\n        runningWidth += averageWidthLabels || sizes[i];\r\n        rSizes[i] = averageWidthLabels || rSizes[i];\r\n        series[i].setVisibleArea({\r\n            left: floor(centerX - radius - runningWidth),\r\n            right: floor(canvas.width - (centerX + radius + runningWidth)),\r\n            top: canvas.top,\r\n            bottom: canvas.bottom,\r\n            width: canvas.width,\r\n            height: canvas.height\r\n        })\r\n    }\r\n}\r\n\r\nfunction getLengthFromCenter(x, y, paneCenterX, paneCenterY) {\r\n    return sqrt((x - paneCenterX) * (x - paneCenterX) + (y - paneCenterY) * (y - paneCenterY))\r\n}\r\n\r\nfunction getInnerRadius(_ref) {\r\n    var {\r\n        type: type,\r\n        innerRadius: innerRadius\r\n    } = _ref;\r\n    return \"pie\" === type ? 0 : _isNumber(innerRadius) ? Number(innerRadius) : DEFAULT_INNER_RADIUS\r\n}\r\n\r\nfunction LayoutManager() {}\r\n\r\nfunction getAverageLabelWidth(centerX, radius, canvas, sizeLabels) {\r\n    return (centerX - radius - RADIAL_LABEL_INDENT - canvas.left) / sizeLabels.outerLabelsCount\r\n}\r\n\r\nfunction getFullRadiusWithLabels(centerX, canvas, sizeLabels) {\r\n    return centerX - canvas.left - (sizeLabels.outerLabelsCount > 0 ? sizeLabels.common + RADIAL_LABEL_INDENT : 0)\r\n}\r\n\r\nfunction correctAvailableRadius(availableRadius, canvas, series, minR, paneCenterX, paneCenterY) {\r\n    var sizeLabels = getSizeLabels(series);\r\n    var averageWidthLabels;\r\n    var fullRadiusWithLabels = getFullRadiusWithLabels(paneCenterX, canvas, sizeLabels);\r\n    if (fullRadiusWithLabels < minR) {\r\n        availableRadius = minR;\r\n        averageWidthLabels = getAverageLabelWidth(paneCenterX, availableRadius, canvas, sizeLabels)\r\n    } else {\r\n        availableRadius = _min(getPieRadius(series, paneCenterX, paneCenterY, availableRadius, minR), fullRadiusWithLabels)\r\n    }\r\n    correctLabelRadius(sizeLabels, availableRadius + RADIAL_LABEL_INDENT, series, canvas, averageWidthLabels, paneCenterX);\r\n    return availableRadius\r\n}\r\n\r\nfunction toLayoutElementCoords(canvas) {\r\n    return new WrapperLayoutElement(null, {\r\n        x: canvas.left,\r\n        y: canvas.top,\r\n        width: canvas.width - canvas.left - canvas.right,\r\n        height: canvas.height - canvas.top - canvas.bottom\r\n    })\r\n}\r\nLayoutManager.prototype = {\r\n    constructor: LayoutManager,\r\n    setOptions: function(options) {\r\n        this._options = options\r\n    },\r\n    applyPieChartSeriesLayout: function(canvas, series, hideLayoutLabels) {\r\n        var paneSpaceHeight = canvas.height - canvas.top - canvas.bottom;\r\n        var paneSpaceWidth = canvas.width - canvas.left - canvas.right;\r\n        var paneCenterX = paneSpaceWidth / 2 + canvas.left;\r\n        var paneCenterY = paneSpaceHeight / 2 + canvas.top;\r\n        var piePercentage = this._options.piePercentage;\r\n        var availableRadius;\r\n        var minR;\r\n        if (_isNumber(piePercentage)) {\r\n            availableRadius = minR = piePercentage * _min(canvas.height, canvas.width) / 2\r\n        } else {\r\n            availableRadius = _min(paneSpaceWidth, paneSpaceHeight) / 2;\r\n            minR = this._options.minPiePercentage * availableRadius\r\n        }\r\n        if (!hideLayoutLabels) {\r\n            availableRadius = correctAvailableRadius(availableRadius, canvas, series, minR, paneCenterX, paneCenterY)\r\n        }\r\n        return {\r\n            centerX: floor(paneCenterX),\r\n            centerY: floor(paneCenterY),\r\n            radiusInner: floor(availableRadius * getInnerRadius(series[0])),\r\n            radiusOuter: floor(availableRadius)\r\n        }\r\n    },\r\n    applyEqualPieChartLayout: function(series, layout) {\r\n        var radius = layout.radius;\r\n        return {\r\n            centerX: floor(layout.x),\r\n            centerY: floor(layout.y),\r\n            radiusInner: floor(radius * getInnerRadius(series[0])),\r\n            radiusOuter: floor(radius)\r\n        }\r\n    },\r\n    correctPieLabelRadius: function(series, layout, canvas) {\r\n        var sizeLabels = getSizeLabels(series);\r\n        var averageWidthLabels;\r\n        var radius = layout.radiusOuter + RADIAL_LABEL_INDENT;\r\n        var availableLabelWidth = layout.centerX - canvas.left - radius;\r\n        if (sizeLabels.common + RADIAL_LABEL_INDENT > availableLabelWidth) {\r\n            averageWidthLabels = getAverageLabelWidth(layout.centerX, layout.radiusOuter, canvas, sizeLabels)\r\n        }\r\n        correctLabelRadius(sizeLabels, radius, series, canvas, averageWidthLabels, layout.centerX)\r\n    },\r\n    needMoreSpaceForPanesCanvas(panes, rotated, fixedSizeCallback) {\r\n        var options = this._options;\r\n        var width = options.width;\r\n        var height = options.height;\r\n        var piePercentage = options.piePercentage;\r\n        var percentageIsValid = _isNumber(piePercentage);\r\n        var needHorizontalSpace = 0;\r\n        var needVerticalSpace = 0;\r\n        panes.forEach(pane => {\r\n            var paneCanvas = pane.canvas;\r\n            var minSize = percentageIsValid ? _min(paneCanvas.width, paneCanvas.height) * piePercentage : void 0;\r\n            var paneSized = fixedSizeCallback ? fixedSizeCallback(pane) : {\r\n                width: false,\r\n                height: false\r\n            };\r\n            var needPaneHorizontalSpace = !paneSized.width ? (percentageIsValid ? minSize : width) - (paneCanvas.width - paneCanvas.left - paneCanvas.right) : 0;\r\n            var needPaneVerticalSpace = !paneSized.height ? (percentageIsValid ? minSize : height) - (paneCanvas.height - paneCanvas.top - paneCanvas.bottom) : 0;\r\n            if (rotated) {\r\n                needHorizontalSpace += needPaneHorizontalSpace > 0 ? needPaneHorizontalSpace : 0;\r\n                needVerticalSpace = _max(needPaneVerticalSpace > 0 ? needPaneVerticalSpace : 0, needVerticalSpace)\r\n            } else {\r\n                needHorizontalSpace = _max(needPaneHorizontalSpace > 0 ? needPaneHorizontalSpace : 0, needHorizontalSpace);\r\n                needVerticalSpace += needPaneVerticalSpace > 0 ? needPaneVerticalSpace : 0\r\n            }\r\n        });\r\n        return needHorizontalSpace > 0 || needVerticalSpace > 0 ? {\r\n            width: needHorizontalSpace,\r\n            height: needVerticalSpace\r\n        } : false\r\n    },\r\n    layoutInsideLegend: function(legend, canvas) {\r\n        var layoutOptions = legend.getLayoutOptions();\r\n        if (!layoutOptions) {\r\n            return\r\n        }\r\n        var position = layoutOptions.position;\r\n        var cutSide = layoutOptions.cutSide;\r\n        var my = {\r\n            horizontal: position.horizontal,\r\n            vertical: position.vertical\r\n        };\r\n        canvas[layoutOptions.cutLayoutSide] += \"horizontal\" === layoutOptions.cutSide ? layoutOptions.width : layoutOptions.height;\r\n        my[cutSide] = {\r\n            left: \"right\",\r\n            right: \"left\",\r\n            top: \"bottom\",\r\n            bottom: \"top\",\r\n            center: \"center\"\r\n        } [my[cutSide]];\r\n        legend.position({\r\n            of: toLayoutElementCoords(canvas),\r\n            my: my,\r\n            at: position\r\n        })\r\n    }\r\n};\r\nexport {\r\n    LayoutManager\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}