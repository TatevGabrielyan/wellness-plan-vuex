{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\r\n * DevExtreme (esm/viz/chart_components/tracker.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport domAdapter from \"../../core/dom_adapter\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { name as clickEventName } from \"../../events/click\";\nimport { extend } from \"../../core/utils/extend\";\nimport { each as _each } from \"../../core/utils/iterator\";\nimport consts from \"../components/consts\";\nimport { getDistance, pointInCanvas as inCanvas, normalizeEnum as _normalizeEnum } from \"../core/utils\";\nimport pointerEvents from \"../../events/pointer\";\nimport { addNamespace } from \"../../events/utils/index\";\nimport { isDefined } from \"../../core/utils/type\";\nimport { noop as _noop } from \"../../core/utils/common\";\nimport errors from \"../../core/errors\";\nvar _floor = Math.floor;\nvar eventsConsts = consts.events;\nvar statesConsts = consts.states;\nvar HOVER_STATE = statesConsts.hoverMark;\nvar NORMAL_STATE = statesConsts.normalMark;\nvar EVENT_NS = \"dxChartTracker\";\nvar DOT_EVENT_NS = \".\" + EVENT_NS;\nvar POINTER_ACTION = addNamespace([pointerEvents.down, pointerEvents.move], EVENT_NS);\nvar LEGEND_CLICK = \"legendClick\";\nvar SERIES_CLICK = \"seriesClick\";\nvar POINT_CLICK = \"pointClick\";\nvar POINT_DATA = \"chart-data-point\";\nvar SERIES_DATA = \"chart-data-series\";\nvar ARG_DATA = \"chart-data-argument\";\nvar DELAY = 100;\nvar HOLD_TIMEOUT = 300;\nvar NONE_MODE = \"none\";\nvar ALL_ARGUMENT_POINTS_MODE = \"allargumentpoints\";\nvar INCLUDE_POINTS_MODE = \"includepoints\";\nvar EXLUDE_POINTS_MODE = \"excludepoints\";\nvar LEGEND_HOVER_MODES = [INCLUDE_POINTS_MODE, EXLUDE_POINTS_MODE, NONE_MODE];\nfunction getData(event, dataKey, tryCheckParent) {\n  var target = event.target;\n  if (\"tspan\" === target.tagName) {\n    return target.parentNode[dataKey];\n  }\n  var data = target[dataKey];\n  if (tryCheckParent && !isDefined(data)) {\n    return function getParentData(node) {\n      if (node.parentNode) {\n        if (isDefined(node.parentNode[dataKey])) {\n          return node.parentNode[dataKey];\n        } else {\n          return getParentData(node.parentNode);\n        }\n      }\n      return;\n    }(target);\n  }\n  return data;\n}\nfunction eventCanceled(_ref, target, clickTarget) {\n  var {\n    event: event,\n    cancel: cancel\n  } = _ref;\n  var deprecatedCancel = event.cancel;\n  var eventCanceled = cancel || deprecatedCancel;\n  if (deprecatedCancel) {\n    errors.log(\"W0003\", \"\".concat(clickTarget, \"Ckick handler argument\"), \"event.cancel\", \"22.1\", \"Use the 'cancel' field instead\");\n  }\n  return eventCanceled || !target.getOptions();\n}\nfunction correctLegendHoverMode(mode) {\n  if (LEGEND_HOVER_MODES.indexOf(mode) > -1) {\n    return mode;\n  } else {\n    return INCLUDE_POINTS_MODE;\n  }\n}\nfunction correctHoverMode(target) {\n  var mode = target.getOptions().hoverMode;\n  return mode === NONE_MODE ? mode : ALL_ARGUMENT_POINTS_MODE;\n}\nvar baseTrackerPrototype = {\n  ctor: function (options) {\n    var that = this;\n    var data = {\n      tracker: that\n    };\n    that._renderer = options.renderer;\n    that._legend = options.legend;\n    that._tooltip = options.tooltip;\n    that._eventTrigger = options.eventTrigger;\n    that._seriesGroup = options.seriesGroup;\n    options.seriesGroup.off(DOT_EVENT_NS).on(addNamespace(eventsConsts.showPointTooltip, EVENT_NS), data, that._showPointTooltip).on(addNamespace(eventsConsts.hidePointTooltip, EVENT_NS), data, that._hidePointTooltip);\n    that._renderer.root.off(DOT_EVENT_NS).on(POINTER_ACTION, data, that._pointerHandler).on(addNamespace(pointerEvents.up, EVENT_NS), () => clearTimeout(that._holdTimer)).on(addNamespace(clickEventName, EVENT_NS), data, that._clickHandler);\n  },\n  update: function (options) {\n    this._chart = options.chart;\n  },\n  updateSeries(series, resetDecorations) {\n    var that = this;\n    var noHoveredSeries = !(null !== series && void 0 !== series && series.some(s => s === that.hoveredSeries) || that._hoveredPoint && that._hoveredPoint.series);\n    if (that._storedSeries !== series) {\n      that._storedSeries = series || [];\n    }\n    if (noHoveredSeries) {\n      that._clean();\n      that._renderer.initHatching();\n    }\n    if (resetDecorations) {\n      that.clearSelection();\n      if (!noHoveredSeries) {\n        that._hideTooltip(that.pointAtShownTooltip);\n        that.clearHover();\n      }\n    }\n  },\n  setCanvases: function (mainCanvas, paneCanvases) {\n    this._mainCanvas = mainCanvas;\n    this._canvases = paneCanvases;\n  },\n  repairTooltip: function () {\n    var point = this.pointAtShownTooltip;\n    if (!point || !point.series || !point.isVisible()) {\n      this._hideTooltip(point, true);\n    } else {\n      this._showTooltip(point);\n    }\n  },\n  _setHoveredPoint: function (point) {\n    if (point === this._hoveredPoint) {\n      return;\n    }\n    this._releaseHoveredPoint();\n    point.hover();\n    this._hoveredPoint = point;\n  },\n  _releaseHoveredPoint: function (isPointerOut) {\n    if (this._hoveredPoint && this._hoveredPoint.getOptions()) {\n      this._hoveredPoint.clearHover();\n      this._hoveredPoint = null;\n      if (this._tooltip.isEnabled()) {\n        this._hideTooltip(this._hoveredPoint, false, isPointerOut);\n      }\n    }\n  },\n  _setHoveredSeries: function (series, mode) {\n    this._releaseHoveredSeries();\n    this._releaseHoveredPoint();\n    series.hover(mode);\n    this.hoveredSeries = series;\n  },\n  _releaseHoveredSeries() {\n    if (this.hoveredSeries) {\n      this.hoveredSeries.clearHover();\n      this.hoveredSeries = null;\n    }\n  },\n  clearSelection() {\n    this._storedSeries.forEach(series => {\n      if (series) {\n        series.clearSelection();\n        series.getPoints().forEach(point => point.clearSelection());\n      }\n    });\n  },\n  _clean: function () {\n    this.hoveredPoint = this.hoveredSeries = this._hoveredArgumentPoints = null;\n    this._hideTooltip(this.pointAtShownTooltip);\n  },\n  clearHover: function (isPointerOut) {\n    this._resetHoveredArgument();\n    this._releaseHoveredSeries();\n    this._releaseHoveredPoint(isPointerOut);\n  },\n  _hideTooltip: function (point, silent, isPointerOut) {\n    if (!this._tooltip || point && this.pointAtShownTooltip !== point) {\n      return;\n    }\n    if (!silent && this.pointAtShownTooltip) {\n      this.pointAtShownTooltip = null;\n    }\n    this._tooltip.hide(!!isPointerOut);\n  },\n  _showTooltip: function (point) {\n    var that = this;\n    var tooltipFormatObject;\n    var eventData = {\n      target: point\n    };\n    if (null !== point && void 0 !== point && point.getOptions()) {\n      tooltipFormatObject = point.getTooltipFormatObject(that._tooltip, that._tooltip.isShared() && that._chart.getStackedPoints(point));\n      if (!isDefined(tooltipFormatObject.valueText) && !tooltipFormatObject.points || !point.isVisible()) {\n        return;\n      }\n      var coords = point.getTooltipParams(that._tooltip.getLocation());\n      var rootOffset = that._renderer.getRootOffset();\n      coords.x += rootOffset.left;\n      coords.y += rootOffset.top;\n      var callback = result => {\n        result && (that.pointAtShownTooltip = point);\n      };\n      callback(that._tooltip.show(tooltipFormatObject, coords, eventData, void 0, callback));\n    }\n  },\n  _showPointTooltip: function (event, point) {\n    var that = event.data.tracker;\n    var pointWithTooltip = that.pointAtShownTooltip;\n    if (pointWithTooltip && pointWithTooltip !== point) {\n      that._hideTooltip(pointWithTooltip);\n    }\n    that._showTooltip(point);\n  },\n  _hidePointTooltip: function (event, point) {\n    event.data.tracker._hideTooltip(point, false, true);\n  },\n  _enableOutHandler: function () {\n    if (this._outHandler) {\n      return;\n    }\n    var that = this;\n    var handler = function (e) {\n      var rootOffset = that._renderer.getRootOffset();\n      var x = _floor(e.pageX - rootOffset.left);\n      var y = _floor(e.pageY - rootOffset.top);\n      if (!inCanvas(that._mainCanvas, x, y) && !that._isCursorOnTooltip(e)) {\n        that._pointerOut();\n        that._disableOutHandler();\n      }\n    };\n    eventsEngine.on(domAdapter.getDocument(), POINTER_ACTION, handler);\n    this._outHandler = handler;\n  },\n  _isCursorOnTooltip: function (e) {\n    return this._tooltip.isEnabled() && this._tooltip.isCursorOnTooltip(e.pageX, e.pageY);\n  },\n  _disableOutHandler: function () {\n    this._outHandler && eventsEngine.off(domAdapter.getDocument(), POINTER_ACTION, this._outHandler);\n    this._outHandler = null;\n  },\n  stopCurrentHandling: function () {\n    this._pointerOut(true);\n  },\n  _pointerOut: function (force) {\n    this.clearHover(true);\n    (force || this._tooltip.isEnabled()) && this._hideTooltip(this.pointAtShownTooltip, false, true);\n  },\n  _triggerLegendClick: function (eventArgs, elementClick) {\n    var eventTrigger = this._eventTrigger;\n    eventTrigger(LEGEND_CLICK, eventArgs, function () {\n      !eventCanceled(eventArgs, eventArgs.target, \"Legend\") && eventTrigger(elementClick, eventArgs);\n    });\n  },\n  _hoverLegendItem: function (x, y) {\n    var item = this._legend.getItemByCoord(x, y);\n    var series;\n    var legendHoverMode = correctLegendHoverMode(this._legend.getOptions().hoverMode);\n    if (item) {\n      series = this._storedSeries[item.id];\n      if (!series.isHovered() || series.lastHoverMode !== legendHoverMode) {\n        this._setHoveredSeries(series, legendHoverMode);\n      }\n      this._tooltip.isEnabled() && this._hideTooltip(this.pointAtShownTooltip);\n    } else {\n      this.clearHover();\n    }\n  },\n  _hoverArgument: function (argument, argumentIndex) {\n    var hoverMode = this._getArgumentHoverMode();\n    if (isDefined(argument)) {\n      this._releaseHoveredPoint();\n      this._hoveredArgument = argument;\n      this._argumentIndex = argumentIndex;\n      this._notifySeries({\n        action: \"pointHover\",\n        notifyLegend: this._notifyLegendOnHoverArgument,\n        target: {\n          argument: argument,\n          fullState: HOVER_STATE,\n          argumentIndex: argumentIndex,\n          getOptions: function () {\n            return {\n              hoverMode: hoverMode\n            };\n          }\n        }\n      });\n    }\n  },\n  _resetHoveredArgument: function () {\n    var hoverMode;\n    if (isDefined(this._hoveredArgument)) {\n      hoverMode = this._getArgumentHoverMode();\n      this._notifySeries({\n        action: \"clearPointHover\",\n        notifyLegend: this._notifyLegendOnHoverArgument,\n        target: {\n          fullState: NORMAL_STATE,\n          argumentIndex: this._argumentIndex,\n          argument: this._hoveredArgument,\n          getOptions: function () {\n            return {\n              hoverMode: hoverMode\n            };\n          }\n        }\n      });\n      this._hoveredArgument = null;\n    }\n  },\n  _notifySeries: function (data) {\n    this._storedSeries.forEach(function (series) {\n      series.notify(data);\n    });\n  },\n  _pointerHandler: function (e) {\n    var _series;\n    var that = e.data.tracker;\n    var rootOffset = that._renderer.getRootOffset();\n    var x = _floor(e.pageX - rootOffset.left);\n    var y = _floor(e.pageY - rootOffset.top);\n    var canvas = that._getCanvas(x, y);\n    var series = getData(e, SERIES_DATA);\n    var point = getData(e, POINT_DATA) || (null === (_series = series) || void 0 === _series ? void 0 : _series.getPointByCoord(x, y));\n    that._isHolding = false;\n    clearTimeout(that._holdTimer);\n    if (e.type === pointerEvents.down) {\n      that._holdTimer = setTimeout(() => that._isHolding = true, HOLD_TIMEOUT);\n    }\n    if (point && !point.getMarkerVisibility()) {\n      point = void 0;\n    }\n    that._enableOutHandler();\n    if (that._legend.coordsIn(x, y)) {\n      that._hoverLegendItem(x, y);\n      return;\n    }\n    if (that.hoveredSeries && that.hoveredSeries !== that._stuckSeries) {\n      that._releaseHoveredSeries();\n    }\n    if (that._hoverArgumentAxis(x, y, e)) {\n      return;\n    }\n    if (that._isPointerOut(canvas, point)) {\n      that._pointerOut();\n    }\n    if (!canvas && !point) {\n      return;\n    }\n    if (series && !point) {\n      point = series.getNeighborPoint(x, y);\n      if (!that._stickyHovering && point && !point.coordsIn(x, y)) {\n        point = null;\n      }\n      if (series !== that.hoveredSeries) {\n        that._setTimeout(function () {\n          that._setHoveredSeries(series);\n          that._setStuckSeries(e, series, x, y);\n          that._pointerComplete(point, x, y);\n        }, series);\n        return;\n      }\n    } else if (point) {\n      if (e.type !== pointerEvents.move && \"touch\" !== e.pointerType) {\n        return;\n      }\n      if (that.hoveredSeries) {\n        that._setTimeout(() => that._pointerOnPoint(point, x, y, e), point);\n      } else {\n        that._pointerOnPoint(point, x, y, e);\n      }\n      return;\n    } else if (that._setStuckSeries(e, void 0, x, y) && that._stickyHovering) {\n      var _point;\n      series = that._stuckSeries;\n      point = series.getNeighborPoint(x, y);\n      that._releaseHoveredSeries();\n      (null === (_point = point) || void 0 === _point ? void 0 : _point.getMarkerVisibility()) && that._setHoveredPoint(point);\n    } else if (!that._stickyHovering) {\n      that._pointerOut();\n    }\n    that._pointerComplete(point, x, y);\n  },\n  _pointerOnPoint: function (point, x, y) {\n    this._resetHoveredArgument();\n    this._setHoveredPoint(point);\n    this._pointerComplete(point, x, y);\n  },\n  _pointerComplete: function (point) {\n    this.pointAtShownTooltip !== point && this._tooltip.isEnabled() && this._showTooltip(point);\n  },\n  _clickHandler: function (e) {\n    var _point2;\n    var that = e.data.tracker;\n    if (that._isHolding) {\n      return;\n    }\n    var rootOffset = that._renderer.getRootOffset();\n    var x = _floor(e.pageX - rootOffset.left);\n    var y = _floor(e.pageY - rootOffset.top);\n    var point = getData(e, POINT_DATA);\n    var series = that._stuckSeries || getData(e, SERIES_DATA) || (null === (_point2 = point) || void 0 === _point2 ? void 0 : _point2.series);\n    var axis = that._argumentAxis;\n    if (that._legend.coordsIn(x, y)) {\n      var item = that._legend.getItemByCoord(x, y);\n      if (item) {\n        that._legendClick(item, e);\n      }\n    } else if (null !== axis && void 0 !== axis && axis.coordsIn(x, y)) {\n      var argument = getData(e, ARG_DATA, true);\n      if (isDefined(argument)) {\n        that._eventTrigger(\"argumentAxisClick\", {\n          argument: argument,\n          event: e\n        });\n      }\n    } else if (series) {\n      var _point3;\n      point = point || series.getPointByCoord(x, y);\n      if (null !== (_point3 = point) && void 0 !== _point3 && _point3.getMarkerVisibility()) {\n        that._pointClick(point, e);\n      } else {\n        getData(e, SERIES_DATA) && that._eventTrigger(SERIES_CLICK, {\n          target: series,\n          event: e\n        });\n      }\n    }\n  },\n  dispose: function () {\n    this._disableOutHandler();\n    this._renderer.root.off(DOT_EVENT_NS);\n    this._seriesGroup.off(DOT_EVENT_NS);\n  }\n};\nexport var ChartTracker = function (options) {\n  this.ctor(options);\n};\nextend(ChartTracker.prototype, baseTrackerPrototype, {\n  _pointClick: function (point, event) {\n    var eventTrigger = this._eventTrigger;\n    var series = point.series;\n    var eventArgs = {\n      target: point,\n      event: event\n    };\n    eventTrigger(POINT_CLICK, eventArgs, function () {\n      !eventCanceled(eventArgs, series, \"Point\") && eventTrigger(SERIES_CLICK, {\n        target: series,\n        event: event\n      });\n    });\n  },\n  update: function (options) {\n    baseTrackerPrototype.update.call(this, options);\n    this._argumentAxis = options.argumentAxis || {};\n    this._axisHoverEnabled = this._argumentAxis && _normalizeEnum(this._argumentAxis.getOptions().hoverMode) === ALL_ARGUMENT_POINTS_MODE;\n    this._rotated = options.rotated;\n    this._crosshair = options.crosshair;\n    this._stickyHovering = options.stickyHovering;\n  },\n  _getCanvas: function (x, y) {\n    var canvases = this._canvases || [];\n    for (var i = 0; i < canvases.length; i++) {\n      var c = canvases[i];\n      if (inCanvas(c, x, y)) {\n        return c;\n      }\n    }\n    return null;\n  },\n  _isPointerOut: function (canvas) {\n    return !canvas && this._stuckSeries;\n  },\n  _hideCrosshair: function () {\n    var _this$_crosshair;\n    null === (_this$_crosshair = this._crosshair) || void 0 === _this$_crosshair ? void 0 : _this$_crosshair.hide();\n  },\n  _moveCrosshair: function (point, x, y) {\n    if (this._crosshair && null !== point && void 0 !== point && point.isVisible()) {\n      this._crosshair.show({\n        point: point,\n        x: x,\n        y: y\n      });\n    }\n  },\n  _clean: function () {\n    baseTrackerPrototype._clean.call(this);\n    this._resetTimer();\n    this._stuckSeries = null;\n  },\n  _getSeriesForShared: function (x, y) {\n    var _point4;\n    var points = [];\n    var point = null;\n    var distance = 1 / 0;\n    if (this._tooltip.isShared() && !this.hoveredSeries) {\n      _each(this._storedSeries, function (_, series) {\n        var point = series.getNeighborPoint(x, y);\n        point && points.push(point);\n      });\n      _each(points, function (_, p) {\n        var coords = p.getCrosshairData(x, y);\n        var d = getDistance(x, y, coords.x, coords.y);\n        if (d < distance) {\n          point = p;\n          distance = d;\n        }\n      });\n    }\n    return null === (_point4 = point) || void 0 === _point4 ? void 0 : _point4.series;\n  },\n  _setTimeout: function (callback, keeper) {\n    var that = this;\n    if (that._timeoutKeeper !== keeper) {\n      that._resetTimer();\n      that._hoverTimeout = setTimeout(function () {\n        callback();\n        that._timeoutKeeper = null;\n      }, DELAY);\n      that._timeoutKeeper = keeper;\n    }\n  },\n  _resetTimer: function () {\n    clearTimeout(this._hoverTimeout);\n    this._timeoutKeeper = this._hoverTimeout = null;\n  },\n  _stopEvent: function (e) {\n    if (!isDefined(e.cancelable) || e.cancelable) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  },\n  _setStuckSeries: function (e, series, x, y) {\n    if (\"mouse\" !== e.pointerType) {\n      this._stuckSeries = null;\n    } else {\n      this._stuckSeries = series || this._stuckSeries || this._getSeriesForShared(x, y);\n    }\n    return !!this._stuckSeries;\n  },\n  _pointerOut: function () {\n    var that = this;\n    that._stuckSeries = null;\n    that._hideCrosshair();\n    that._resetTimer();\n    baseTrackerPrototype._pointerOut.apply(that, arguments);\n  },\n  _hoverArgumentAxis: function (x, y, e) {\n    this._resetHoveredArgument();\n    if (this._axisHoverEnabled && this._argumentAxis.coordsIn(x, y)) {\n      this._hoverArgument(getData(e, ARG_DATA, true));\n      return true;\n    }\n  },\n  _pointerComplete: function (point, x, y) {\n    this.hoveredSeries && this.hoveredSeries.updateHover(x, y);\n    this._resetTimer();\n    this._moveCrosshair(point, x, y);\n    baseTrackerPrototype._pointerComplete.call(this, point);\n  },\n  _legendClick: function (item, e) {\n    var series = this._storedSeries[item.id];\n    this._triggerLegendClick({\n      target: series,\n      event: e\n    }, SERIES_CLICK);\n  },\n  _hoverLegendItem: function (x, y) {\n    this._stuckSeries = null;\n    this._hideCrosshair();\n    baseTrackerPrototype._hoverLegendItem.call(this, x, y);\n  },\n  _pointerOnPoint: function (point, x, y, e) {\n    this._setStuckSeries(e, point.series, x, y);\n    this._releaseHoveredSeries();\n    baseTrackerPrototype._pointerOnPoint.call(this, point, x, y, e);\n  },\n  _notifyLegendOnHoverArgument: false,\n  _getArgumentHoverMode: function () {\n    return correctHoverMode(this._argumentAxis);\n  },\n  dispose: function () {\n    this._resetTimer();\n    baseTrackerPrototype.dispose.call(this);\n  }\n});\nexport var PieTracker = function (options) {\n  this.ctor(options);\n};\nextend(PieTracker.prototype, baseTrackerPrototype, {\n  _isPointerOut: function (_, point) {\n    return !point;\n  },\n  _legendClick: function (item, e) {\n    var points = [];\n    this._storedSeries.forEach(s => points.push.apply(points, s.getPointsByKeys(item.argument, item.argumentIndex)));\n    this._eventTrigger(LEGEND_CLICK, {\n      target: item.argument,\n      points: points,\n      event: e\n    });\n  },\n  _pointClick: function (point, e) {\n    this._eventTrigger(POINT_CLICK, {\n      target: point,\n      event: e\n    });\n  },\n  _hoverLegendItem: function (x, y) {\n    var item = this._legend.getItemByCoord(x, y);\n    if (item && this._hoveredArgument !== item.argument) {\n      this._resetHoveredArgument();\n      this._hoverArgument(item.argument, item.argumentIndex);\n    } else if (!item) {\n      this.clearHover();\n    }\n  },\n  _getArgumentHoverMode: function () {\n    return correctHoverMode(this._legend);\n  },\n  _hoverArgumentAxis: _noop,\n  _setStuckSeries: _noop,\n  _getCanvas: _noop,\n  _notifyLegendOnHoverArgument: true\n});","map":{"version":3,"names":["domAdapter","eventsEngine","name","clickEventName","extend","each","_each","consts","getDistance","pointInCanvas","inCanvas","normalizeEnum","_normalizeEnum","pointerEvents","addNamespace","isDefined","noop","_noop","errors","_floor","Math","floor","eventsConsts","events","statesConsts","states","HOVER_STATE","hoverMark","NORMAL_STATE","normalMark","EVENT_NS","DOT_EVENT_NS","POINTER_ACTION","down","move","LEGEND_CLICK","SERIES_CLICK","POINT_CLICK","POINT_DATA","SERIES_DATA","ARG_DATA","DELAY","HOLD_TIMEOUT","NONE_MODE","ALL_ARGUMENT_POINTS_MODE","INCLUDE_POINTS_MODE","EXLUDE_POINTS_MODE","LEGEND_HOVER_MODES","getData","event","dataKey","tryCheckParent","target","tagName","parentNode","data","getParentData","node","eventCanceled","_ref","clickTarget","cancel","deprecatedCancel","log","concat","getOptions","correctLegendHoverMode","mode","indexOf","correctHoverMode","hoverMode","baseTrackerPrototype","ctor","options","that","tracker","_renderer","renderer","_legend","legend","_tooltip","tooltip","_eventTrigger","eventTrigger","_seriesGroup","seriesGroup","off","on","showPointTooltip","_showPointTooltip","hidePointTooltip","_hidePointTooltip","root","_pointerHandler","up","clearTimeout","_holdTimer","_clickHandler","update","_chart","chart","updateSeries","series","resetDecorations","noHoveredSeries","some","s","hoveredSeries","_hoveredPoint","_storedSeries","_clean","initHatching","clearSelection","_hideTooltip","pointAtShownTooltip","clearHover","setCanvases","mainCanvas","paneCanvases","_mainCanvas","_canvases","repairTooltip","point","isVisible","_showTooltip","_setHoveredPoint","_releaseHoveredPoint","hover","isPointerOut","isEnabled","_setHoveredSeries","_releaseHoveredSeries","forEach","getPoints","hoveredPoint","_hoveredArgumentPoints","_resetHoveredArgument","silent","hide","tooltipFormatObject","eventData","getTooltipFormatObject","isShared","getStackedPoints","valueText","points","coords","getTooltipParams","getLocation","rootOffset","getRootOffset","x","left","y","top","callback","result","show","pointWithTooltip","_enableOutHandler","_outHandler","handler","e","pageX","pageY","_isCursorOnTooltip","_pointerOut","_disableOutHandler","getDocument","isCursorOnTooltip","stopCurrentHandling","force","_triggerLegendClick","eventArgs","elementClick","_hoverLegendItem","item","getItemByCoord","legendHoverMode","id","isHovered","lastHoverMode","_hoverArgument","argument","argumentIndex","_getArgumentHoverMode","_hoveredArgument","_argumentIndex","_notifySeries","action","notifyLegend","_notifyLegendOnHoverArgument","fullState","notify","_series","canvas","_getCanvas","getPointByCoord","_isHolding","type","setTimeout","getMarkerVisibility","coordsIn","_stuckSeries","_hoverArgumentAxis","_isPointerOut","getNeighborPoint","_stickyHovering","_setTimeout","_setStuckSeries","_pointerComplete","pointerType","_pointerOnPoint","_point","_point2","axis","_argumentAxis","_legendClick","_point3","_pointClick","dispose","ChartTracker","prototype","call","argumentAxis","_axisHoverEnabled","_rotated","rotated","_crosshair","crosshair","stickyHovering","canvases","i","length","c","_hideCrosshair","_this$_crosshair","_moveCrosshair","_resetTimer","_getSeriesForShared","_point4","distance","_","push","p","getCrosshairData","d","keeper","_timeoutKeeper","_hoverTimeout","_stopEvent","cancelable","preventDefault","stopPropagation","apply","arguments","updateHover","PieTracker","getPointsByKeys"],"sources":["C:/Users/User/vue-chart/node_modules/devextreme/esm/viz/chart_components/tracker.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/chart_components/tracker.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each as _each\r\n} from \"../../core/utils/iterator\";\r\nimport consts from \"../components/consts\";\r\nimport {\r\n    getDistance,\r\n    pointInCanvas as inCanvas,\r\n    normalizeEnum as _normalizeEnum\r\n} from \"../core/utils\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    noop as _noop\r\n} from \"../../core/utils/common\";\r\nimport errors from \"../../core/errors\";\r\nvar _floor = Math.floor;\r\nvar eventsConsts = consts.events;\r\nvar statesConsts = consts.states;\r\nvar HOVER_STATE = statesConsts.hoverMark;\r\nvar NORMAL_STATE = statesConsts.normalMark;\r\nvar EVENT_NS = \"dxChartTracker\";\r\nvar DOT_EVENT_NS = \".\" + EVENT_NS;\r\nvar POINTER_ACTION = addNamespace([pointerEvents.down, pointerEvents.move], EVENT_NS);\r\nvar LEGEND_CLICK = \"legendClick\";\r\nvar SERIES_CLICK = \"seriesClick\";\r\nvar POINT_CLICK = \"pointClick\";\r\nvar POINT_DATA = \"chart-data-point\";\r\nvar SERIES_DATA = \"chart-data-series\";\r\nvar ARG_DATA = \"chart-data-argument\";\r\nvar DELAY = 100;\r\nvar HOLD_TIMEOUT = 300;\r\nvar NONE_MODE = \"none\";\r\nvar ALL_ARGUMENT_POINTS_MODE = \"allargumentpoints\";\r\nvar INCLUDE_POINTS_MODE = \"includepoints\";\r\nvar EXLUDE_POINTS_MODE = \"excludepoints\";\r\nvar LEGEND_HOVER_MODES = [INCLUDE_POINTS_MODE, EXLUDE_POINTS_MODE, NONE_MODE];\r\n\r\nfunction getData(event, dataKey, tryCheckParent) {\r\n    var target = event.target;\r\n    if (\"tspan\" === target.tagName) {\r\n        return target.parentNode[dataKey]\r\n    }\r\n    var data = target[dataKey];\r\n    if (tryCheckParent && !isDefined(data)) {\r\n        return function getParentData(node) {\r\n            if (node.parentNode) {\r\n                if (isDefined(node.parentNode[dataKey])) {\r\n                    return node.parentNode[dataKey]\r\n                } else {\r\n                    return getParentData(node.parentNode)\r\n                }\r\n            }\r\n            return\r\n        }(target)\r\n    }\r\n    return data\r\n}\r\n\r\nfunction eventCanceled(_ref, target, clickTarget) {\r\n    var {\r\n        event: event,\r\n        cancel: cancel\r\n    } = _ref;\r\n    var deprecatedCancel = event.cancel;\r\n    var eventCanceled = cancel || deprecatedCancel;\r\n    if (deprecatedCancel) {\r\n        errors.log(\"W0003\", \"\".concat(clickTarget, \"Ckick handler argument\"), \"event.cancel\", \"22.1\", \"Use the 'cancel' field instead\")\r\n    }\r\n    return eventCanceled || !target.getOptions()\r\n}\r\n\r\nfunction correctLegendHoverMode(mode) {\r\n    if (LEGEND_HOVER_MODES.indexOf(mode) > -1) {\r\n        return mode\r\n    } else {\r\n        return INCLUDE_POINTS_MODE\r\n    }\r\n}\r\n\r\nfunction correctHoverMode(target) {\r\n    var mode = target.getOptions().hoverMode;\r\n    return mode === NONE_MODE ? mode : ALL_ARGUMENT_POINTS_MODE\r\n}\r\nvar baseTrackerPrototype = {\r\n    ctor: function(options) {\r\n        var that = this;\r\n        var data = {\r\n            tracker: that\r\n        };\r\n        that._renderer = options.renderer;\r\n        that._legend = options.legend;\r\n        that._tooltip = options.tooltip;\r\n        that._eventTrigger = options.eventTrigger;\r\n        that._seriesGroup = options.seriesGroup;\r\n        options.seriesGroup.off(DOT_EVENT_NS).on(addNamespace(eventsConsts.showPointTooltip, EVENT_NS), data, that._showPointTooltip).on(addNamespace(eventsConsts.hidePointTooltip, EVENT_NS), data, that._hidePointTooltip);\r\n        that._renderer.root.off(DOT_EVENT_NS).on(POINTER_ACTION, data, that._pointerHandler).on(addNamespace(pointerEvents.up, EVENT_NS), () => clearTimeout(that._holdTimer)).on(addNamespace(clickEventName, EVENT_NS), data, that._clickHandler)\r\n    },\r\n    update: function(options) {\r\n        this._chart = options.chart\r\n    },\r\n    updateSeries(series, resetDecorations) {\r\n        var that = this;\r\n        var noHoveredSeries = !(null !== series && void 0 !== series && series.some(s => s === that.hoveredSeries) || that._hoveredPoint && that._hoveredPoint.series);\r\n        if (that._storedSeries !== series) {\r\n            that._storedSeries = series || []\r\n        }\r\n        if (noHoveredSeries) {\r\n            that._clean();\r\n            that._renderer.initHatching()\r\n        }\r\n        if (resetDecorations) {\r\n            that.clearSelection();\r\n            if (!noHoveredSeries) {\r\n                that._hideTooltip(that.pointAtShownTooltip);\r\n                that.clearHover()\r\n            }\r\n        }\r\n    },\r\n    setCanvases: function(mainCanvas, paneCanvases) {\r\n        this._mainCanvas = mainCanvas;\r\n        this._canvases = paneCanvases\r\n    },\r\n    repairTooltip: function() {\r\n        var point = this.pointAtShownTooltip;\r\n        if (!point || !point.series || !point.isVisible()) {\r\n            this._hideTooltip(point, true)\r\n        } else {\r\n            this._showTooltip(point)\r\n        }\r\n    },\r\n    _setHoveredPoint: function(point) {\r\n        if (point === this._hoveredPoint) {\r\n            return\r\n        }\r\n        this._releaseHoveredPoint();\r\n        point.hover();\r\n        this._hoveredPoint = point\r\n    },\r\n    _releaseHoveredPoint: function(isPointerOut) {\r\n        if (this._hoveredPoint && this._hoveredPoint.getOptions()) {\r\n            this._hoveredPoint.clearHover();\r\n            this._hoveredPoint = null;\r\n            if (this._tooltip.isEnabled()) {\r\n                this._hideTooltip(this._hoveredPoint, false, isPointerOut)\r\n            }\r\n        }\r\n    },\r\n    _setHoveredSeries: function(series, mode) {\r\n        this._releaseHoveredSeries();\r\n        this._releaseHoveredPoint();\r\n        series.hover(mode);\r\n        this.hoveredSeries = series\r\n    },\r\n    _releaseHoveredSeries() {\r\n        if (this.hoveredSeries) {\r\n            this.hoveredSeries.clearHover();\r\n            this.hoveredSeries = null\r\n        }\r\n    },\r\n    clearSelection() {\r\n        this._storedSeries.forEach(series => {\r\n            if (series) {\r\n                series.clearSelection();\r\n                series.getPoints().forEach(point => point.clearSelection())\r\n            }\r\n        })\r\n    },\r\n    _clean: function() {\r\n        this.hoveredPoint = this.hoveredSeries = this._hoveredArgumentPoints = null;\r\n        this._hideTooltip(this.pointAtShownTooltip)\r\n    },\r\n    clearHover: function(isPointerOut) {\r\n        this._resetHoveredArgument();\r\n        this._releaseHoveredSeries();\r\n        this._releaseHoveredPoint(isPointerOut)\r\n    },\r\n    _hideTooltip: function(point, silent, isPointerOut) {\r\n        if (!this._tooltip || point && this.pointAtShownTooltip !== point) {\r\n            return\r\n        }\r\n        if (!silent && this.pointAtShownTooltip) {\r\n            this.pointAtShownTooltip = null\r\n        }\r\n        this._tooltip.hide(!!isPointerOut)\r\n    },\r\n    _showTooltip: function(point) {\r\n        var that = this;\r\n        var tooltipFormatObject;\r\n        var eventData = {\r\n            target: point\r\n        };\r\n        if (null !== point && void 0 !== point && point.getOptions()) {\r\n            tooltipFormatObject = point.getTooltipFormatObject(that._tooltip, that._tooltip.isShared() && that._chart.getStackedPoints(point));\r\n            if (!isDefined(tooltipFormatObject.valueText) && !tooltipFormatObject.points || !point.isVisible()) {\r\n                return\r\n            }\r\n            var coords = point.getTooltipParams(that._tooltip.getLocation());\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            coords.x += rootOffset.left;\r\n            coords.y += rootOffset.top;\r\n            var callback = result => {\r\n                result && (that.pointAtShownTooltip = point)\r\n            };\r\n            callback(that._tooltip.show(tooltipFormatObject, coords, eventData, void 0, callback))\r\n        }\r\n    },\r\n    _showPointTooltip: function(event, point) {\r\n        var that = event.data.tracker;\r\n        var pointWithTooltip = that.pointAtShownTooltip;\r\n        if (pointWithTooltip && pointWithTooltip !== point) {\r\n            that._hideTooltip(pointWithTooltip)\r\n        }\r\n        that._showTooltip(point)\r\n    },\r\n    _hidePointTooltip: function(event, point) {\r\n        event.data.tracker._hideTooltip(point, false, true)\r\n    },\r\n    _enableOutHandler: function() {\r\n        if (this._outHandler) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var handler = function(e) {\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            var x = _floor(e.pageX - rootOffset.left);\r\n            var y = _floor(e.pageY - rootOffset.top);\r\n            if (!inCanvas(that._mainCanvas, x, y) && !that._isCursorOnTooltip(e)) {\r\n                that._pointerOut();\r\n                that._disableOutHandler()\r\n            }\r\n        };\r\n        eventsEngine.on(domAdapter.getDocument(), POINTER_ACTION, handler);\r\n        this._outHandler = handler\r\n    },\r\n    _isCursorOnTooltip: function(e) {\r\n        return this._tooltip.isEnabled() && this._tooltip.isCursorOnTooltip(e.pageX, e.pageY)\r\n    },\r\n    _disableOutHandler: function() {\r\n        this._outHandler && eventsEngine.off(domAdapter.getDocument(), POINTER_ACTION, this._outHandler);\r\n        this._outHandler = null\r\n    },\r\n    stopCurrentHandling: function() {\r\n        this._pointerOut(true)\r\n    },\r\n    _pointerOut: function(force) {\r\n        this.clearHover(true);\r\n        (force || this._tooltip.isEnabled()) && this._hideTooltip(this.pointAtShownTooltip, false, true)\r\n    },\r\n    _triggerLegendClick: function(eventArgs, elementClick) {\r\n        var eventTrigger = this._eventTrigger;\r\n        eventTrigger(LEGEND_CLICK, eventArgs, (function() {\r\n            !eventCanceled(eventArgs, eventArgs.target, \"Legend\") && eventTrigger(elementClick, eventArgs)\r\n        }))\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        var item = this._legend.getItemByCoord(x, y);\r\n        var series;\r\n        var legendHoverMode = correctLegendHoverMode(this._legend.getOptions().hoverMode);\r\n        if (item) {\r\n            series = this._storedSeries[item.id];\r\n            if (!series.isHovered() || series.lastHoverMode !== legendHoverMode) {\r\n                this._setHoveredSeries(series, legendHoverMode)\r\n            }\r\n            this._tooltip.isEnabled() && this._hideTooltip(this.pointAtShownTooltip)\r\n        } else {\r\n            this.clearHover()\r\n        }\r\n    },\r\n    _hoverArgument: function(argument, argumentIndex) {\r\n        var hoverMode = this._getArgumentHoverMode();\r\n        if (isDefined(argument)) {\r\n            this._releaseHoveredPoint();\r\n            this._hoveredArgument = argument;\r\n            this._argumentIndex = argumentIndex;\r\n            this._notifySeries({\r\n                action: \"pointHover\",\r\n                notifyLegend: this._notifyLegendOnHoverArgument,\r\n                target: {\r\n                    argument: argument,\r\n                    fullState: HOVER_STATE,\r\n                    argumentIndex: argumentIndex,\r\n                    getOptions: function() {\r\n                        return {\r\n                            hoverMode: hoverMode\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _resetHoveredArgument: function() {\r\n        var hoverMode;\r\n        if (isDefined(this._hoveredArgument)) {\r\n            hoverMode = this._getArgumentHoverMode();\r\n            this._notifySeries({\r\n                action: \"clearPointHover\",\r\n                notifyLegend: this._notifyLegendOnHoverArgument,\r\n                target: {\r\n                    fullState: NORMAL_STATE,\r\n                    argumentIndex: this._argumentIndex,\r\n                    argument: this._hoveredArgument,\r\n                    getOptions: function() {\r\n                        return {\r\n                            hoverMode: hoverMode\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this._hoveredArgument = null\r\n        }\r\n    },\r\n    _notifySeries: function(data) {\r\n        this._storedSeries.forEach((function(series) {\r\n            series.notify(data)\r\n        }))\r\n    },\r\n    _pointerHandler: function(e) {\r\n        var _series;\r\n        var that = e.data.tracker;\r\n        var rootOffset = that._renderer.getRootOffset();\r\n        var x = _floor(e.pageX - rootOffset.left);\r\n        var y = _floor(e.pageY - rootOffset.top);\r\n        var canvas = that._getCanvas(x, y);\r\n        var series = getData(e, SERIES_DATA);\r\n        var point = getData(e, POINT_DATA) || (null === (_series = series) || void 0 === _series ? void 0 : _series.getPointByCoord(x, y));\r\n        that._isHolding = false;\r\n        clearTimeout(that._holdTimer);\r\n        if (e.type === pointerEvents.down) {\r\n            that._holdTimer = setTimeout(() => that._isHolding = true, HOLD_TIMEOUT)\r\n        }\r\n        if (point && !point.getMarkerVisibility()) {\r\n            point = void 0\r\n        }\r\n        that._enableOutHandler();\r\n        if (that._legend.coordsIn(x, y)) {\r\n            that._hoverLegendItem(x, y);\r\n            return\r\n        }\r\n        if (that.hoveredSeries && that.hoveredSeries !== that._stuckSeries) {\r\n            that._releaseHoveredSeries()\r\n        }\r\n        if (that._hoverArgumentAxis(x, y, e)) {\r\n            return\r\n        }\r\n        if (that._isPointerOut(canvas, point)) {\r\n            that._pointerOut()\r\n        }\r\n        if (!canvas && !point) {\r\n            return\r\n        }\r\n        if (series && !point) {\r\n            point = series.getNeighborPoint(x, y);\r\n            if (!that._stickyHovering && point && !point.coordsIn(x, y)) {\r\n                point = null\r\n            }\r\n            if (series !== that.hoveredSeries) {\r\n                that._setTimeout((function() {\r\n                    that._setHoveredSeries(series);\r\n                    that._setStuckSeries(e, series, x, y);\r\n                    that._pointerComplete(point, x, y)\r\n                }), series);\r\n                return\r\n            }\r\n        } else if (point) {\r\n            if (e.type !== pointerEvents.move && \"touch\" !== e.pointerType) {\r\n                return\r\n            }\r\n            if (that.hoveredSeries) {\r\n                that._setTimeout(() => that._pointerOnPoint(point, x, y, e), point)\r\n            } else {\r\n                that._pointerOnPoint(point, x, y, e)\r\n            }\r\n            return\r\n        } else if (that._setStuckSeries(e, void 0, x, y) && that._stickyHovering) {\r\n            var _point;\r\n            series = that._stuckSeries;\r\n            point = series.getNeighborPoint(x, y);\r\n            that._releaseHoveredSeries();\r\n            (null === (_point = point) || void 0 === _point ? void 0 : _point.getMarkerVisibility()) && that._setHoveredPoint(point)\r\n        } else if (!that._stickyHovering) {\r\n            that._pointerOut()\r\n        }\r\n        that._pointerComplete(point, x, y)\r\n    },\r\n    _pointerOnPoint: function(point, x, y) {\r\n        this._resetHoveredArgument();\r\n        this._setHoveredPoint(point);\r\n        this._pointerComplete(point, x, y)\r\n    },\r\n    _pointerComplete: function(point) {\r\n        this.pointAtShownTooltip !== point && this._tooltip.isEnabled() && this._showTooltip(point)\r\n    },\r\n    _clickHandler: function(e) {\r\n        var _point2;\r\n        var that = e.data.tracker;\r\n        if (that._isHolding) {\r\n            return\r\n        }\r\n        var rootOffset = that._renderer.getRootOffset();\r\n        var x = _floor(e.pageX - rootOffset.left);\r\n        var y = _floor(e.pageY - rootOffset.top);\r\n        var point = getData(e, POINT_DATA);\r\n        var series = that._stuckSeries || getData(e, SERIES_DATA) || (null === (_point2 = point) || void 0 === _point2 ? void 0 : _point2.series);\r\n        var axis = that._argumentAxis;\r\n        if (that._legend.coordsIn(x, y)) {\r\n            var item = that._legend.getItemByCoord(x, y);\r\n            if (item) {\r\n                that._legendClick(item, e)\r\n            }\r\n        } else if (null !== axis && void 0 !== axis && axis.coordsIn(x, y)) {\r\n            var argument = getData(e, ARG_DATA, true);\r\n            if (isDefined(argument)) {\r\n                that._eventTrigger(\"argumentAxisClick\", {\r\n                    argument: argument,\r\n                    event: e\r\n                })\r\n            }\r\n        } else if (series) {\r\n            var _point3;\r\n            point = point || series.getPointByCoord(x, y);\r\n            if (null !== (_point3 = point) && void 0 !== _point3 && _point3.getMarkerVisibility()) {\r\n                that._pointClick(point, e)\r\n            } else {\r\n                getData(e, SERIES_DATA) && that._eventTrigger(SERIES_CLICK, {\r\n                    target: series,\r\n                    event: e\r\n                })\r\n            }\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._disableOutHandler();\r\n        this._renderer.root.off(DOT_EVENT_NS);\r\n        this._seriesGroup.off(DOT_EVENT_NS)\r\n    }\r\n};\r\nexport var ChartTracker = function(options) {\r\n    this.ctor(options)\r\n};\r\nextend(ChartTracker.prototype, baseTrackerPrototype, {\r\n    _pointClick: function(point, event) {\r\n        var eventTrigger = this._eventTrigger;\r\n        var series = point.series;\r\n        var eventArgs = {\r\n            target: point,\r\n            event: event\r\n        };\r\n        eventTrigger(POINT_CLICK, eventArgs, (function() {\r\n            !eventCanceled(eventArgs, series, \"Point\") && eventTrigger(SERIES_CLICK, {\r\n                target: series,\r\n                event: event\r\n            })\r\n        }))\r\n    },\r\n    update: function(options) {\r\n        baseTrackerPrototype.update.call(this, options);\r\n        this._argumentAxis = options.argumentAxis || {};\r\n        this._axisHoverEnabled = this._argumentAxis && _normalizeEnum(this._argumentAxis.getOptions().hoverMode) === ALL_ARGUMENT_POINTS_MODE;\r\n        this._rotated = options.rotated;\r\n        this._crosshair = options.crosshair;\r\n        this._stickyHovering = options.stickyHovering\r\n    },\r\n    _getCanvas: function(x, y) {\r\n        var canvases = this._canvases || [];\r\n        for (var i = 0; i < canvases.length; i++) {\r\n            var c = canvases[i];\r\n            if (inCanvas(c, x, y)) {\r\n                return c\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    _isPointerOut: function(canvas) {\r\n        return !canvas && this._stuckSeries\r\n    },\r\n    _hideCrosshair: function() {\r\n        var _this$_crosshair;\r\n        null === (_this$_crosshair = this._crosshair) || void 0 === _this$_crosshair ? void 0 : _this$_crosshair.hide()\r\n    },\r\n    _moveCrosshair: function(point, x, y) {\r\n        if (this._crosshair && null !== point && void 0 !== point && point.isVisible()) {\r\n            this._crosshair.show({\r\n                point: point,\r\n                x: x,\r\n                y: y\r\n            })\r\n        }\r\n    },\r\n    _clean: function() {\r\n        baseTrackerPrototype._clean.call(this);\r\n        this._resetTimer();\r\n        this._stuckSeries = null\r\n    },\r\n    _getSeriesForShared: function(x, y) {\r\n        var _point4;\r\n        var points = [];\r\n        var point = null;\r\n        var distance = 1 / 0;\r\n        if (this._tooltip.isShared() && !this.hoveredSeries) {\r\n            _each(this._storedSeries, (function(_, series) {\r\n                var point = series.getNeighborPoint(x, y);\r\n                point && points.push(point)\r\n            }));\r\n            _each(points, (function(_, p) {\r\n                var coords = p.getCrosshairData(x, y);\r\n                var d = getDistance(x, y, coords.x, coords.y);\r\n                if (d < distance) {\r\n                    point = p;\r\n                    distance = d\r\n                }\r\n            }))\r\n        }\r\n        return null === (_point4 = point) || void 0 === _point4 ? void 0 : _point4.series\r\n    },\r\n    _setTimeout: function(callback, keeper) {\r\n        var that = this;\r\n        if (that._timeoutKeeper !== keeper) {\r\n            that._resetTimer();\r\n            that._hoverTimeout = setTimeout((function() {\r\n                callback();\r\n                that._timeoutKeeper = null\r\n            }), DELAY);\r\n            that._timeoutKeeper = keeper\r\n        }\r\n    },\r\n    _resetTimer: function() {\r\n        clearTimeout(this._hoverTimeout);\r\n        this._timeoutKeeper = this._hoverTimeout = null\r\n    },\r\n    _stopEvent: function(e) {\r\n        if (!isDefined(e.cancelable) || e.cancelable) {\r\n            e.preventDefault();\r\n            e.stopPropagation()\r\n        }\r\n    },\r\n    _setStuckSeries: function(e, series, x, y) {\r\n        if (\"mouse\" !== e.pointerType) {\r\n            this._stuckSeries = null\r\n        } else {\r\n            this._stuckSeries = series || this._stuckSeries || this._getSeriesForShared(x, y)\r\n        }\r\n        return !!this._stuckSeries\r\n    },\r\n    _pointerOut: function() {\r\n        var that = this;\r\n        that._stuckSeries = null;\r\n        that._hideCrosshair();\r\n        that._resetTimer();\r\n        baseTrackerPrototype._pointerOut.apply(that, arguments)\r\n    },\r\n    _hoverArgumentAxis: function(x, y, e) {\r\n        this._resetHoveredArgument();\r\n        if (this._axisHoverEnabled && this._argumentAxis.coordsIn(x, y)) {\r\n            this._hoverArgument(getData(e, ARG_DATA, true));\r\n            return true\r\n        }\r\n    },\r\n    _pointerComplete: function(point, x, y) {\r\n        this.hoveredSeries && this.hoveredSeries.updateHover(x, y);\r\n        this._resetTimer();\r\n        this._moveCrosshair(point, x, y);\r\n        baseTrackerPrototype._pointerComplete.call(this, point)\r\n    },\r\n    _legendClick: function(item, e) {\r\n        var series = this._storedSeries[item.id];\r\n        this._triggerLegendClick({\r\n            target: series,\r\n            event: e\r\n        }, SERIES_CLICK)\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        this._stuckSeries = null;\r\n        this._hideCrosshair();\r\n        baseTrackerPrototype._hoverLegendItem.call(this, x, y)\r\n    },\r\n    _pointerOnPoint: function(point, x, y, e) {\r\n        this._setStuckSeries(e, point.series, x, y);\r\n        this._releaseHoveredSeries();\r\n        baseTrackerPrototype._pointerOnPoint.call(this, point, x, y, e)\r\n    },\r\n    _notifyLegendOnHoverArgument: false,\r\n    _getArgumentHoverMode: function() {\r\n        return correctHoverMode(this._argumentAxis)\r\n    },\r\n    dispose: function() {\r\n        this._resetTimer();\r\n        baseTrackerPrototype.dispose.call(this)\r\n    }\r\n});\r\nexport var PieTracker = function(options) {\r\n    this.ctor(options)\r\n};\r\nextend(PieTracker.prototype, baseTrackerPrototype, {\r\n    _isPointerOut: function(_, point) {\r\n        return !point\r\n    },\r\n    _legendClick: function(item, e) {\r\n        var points = [];\r\n        this._storedSeries.forEach(s => points.push.apply(points, s.getPointsByKeys(item.argument, item.argumentIndex)));\r\n        this._eventTrigger(LEGEND_CLICK, {\r\n            target: item.argument,\r\n            points: points,\r\n            event: e\r\n        })\r\n    },\r\n    _pointClick: function(point, e) {\r\n        this._eventTrigger(POINT_CLICK, {\r\n            target: point,\r\n            event: e\r\n        })\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        var item = this._legend.getItemByCoord(x, y);\r\n        if (item && this._hoveredArgument !== item.argument) {\r\n            this._resetHoveredArgument();\r\n            this._hoverArgument(item.argument, item.argumentIndex)\r\n        } else if (!item) {\r\n            this.clearHover()\r\n        }\r\n    },\r\n    _getArgumentHoverMode: function() {\r\n        return correctHoverMode(this._legend)\r\n    },\r\n    _hoverArgumentAxis: _noop,\r\n    _setStuckSeries: _noop,\r\n    _getCanvas: _noop,\r\n    _notifyLegendOnHoverArgument: true\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}