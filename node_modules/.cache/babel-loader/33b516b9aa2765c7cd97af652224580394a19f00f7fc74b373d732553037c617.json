{"ast":null,"code":"/**\r\n * DevExtreme (esm/data_helper.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { DataSource } from \"./data/data_source/data_source\";\nimport { extend } from \"./core/utils/extend\";\nimport { normalizeDataSourceOptions } from \"./data/data_source/utils\";\nvar DATA_SOURCE_OPTIONS_METHOD = \"_dataSourceOptions\";\nvar DATA_SOURCE_CHANGED_METHOD = \"_dataSourceChangedHandler\";\nvar DATA_SOURCE_LOAD_ERROR_METHOD = \"_dataSourceLoadErrorHandler\";\nvar DATA_SOURCE_LOADING_CHANGED_METHOD = \"_dataSourceLoadingChangedHandler\";\nvar DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD = \"_dataSourceFromUrlLoadMode\";\nvar SPECIFIC_DATA_SOURCE_OPTION = \"_getSpecificDataSourceOption\";\nvar NORMALIZE_DATA_SOURCE = \"_normalizeDataSource\";\nvar DataHelperMixin = {\n  postCtor: function () {\n    this.on(\"disposing\", function () {\n      this._disposeDataSource();\n    }.bind(this));\n  },\n  _refreshDataSource: function () {\n    this._initDataSource();\n    this._loadDataSource();\n  },\n  _initDataSource: function () {\n    var dataSourceOptions = SPECIFIC_DATA_SOURCE_OPTION in this ? this[SPECIFIC_DATA_SOURCE_OPTION]() : this.option(\"dataSource\");\n    var widgetDataSourceOptions;\n    var dataSourceType;\n    this._disposeDataSource();\n    if (dataSourceOptions) {\n      if (dataSourceOptions instanceof DataSource) {\n        this._isSharedDataSource = true;\n        this._dataSource = dataSourceOptions;\n      } else {\n        widgetDataSourceOptions = DATA_SOURCE_OPTIONS_METHOD in this ? this[DATA_SOURCE_OPTIONS_METHOD]() : {};\n        dataSourceType = this._dataSourceType ? this._dataSourceType() : DataSource;\n        dataSourceOptions = normalizeDataSourceOptions(dataSourceOptions, {\n          fromUrlLoadMode: DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD in this && this[DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD]()\n        });\n        this._dataSource = new dataSourceType(extend(true, {}, widgetDataSourceOptions, dataSourceOptions));\n      }\n      if (NORMALIZE_DATA_SOURCE in this) {\n        this._dataSource = this[NORMALIZE_DATA_SOURCE](this._dataSource);\n      }\n      this._addDataSourceHandlers();\n    }\n  },\n  _addDataSourceHandlers: function () {\n    if (DATA_SOURCE_CHANGED_METHOD in this) {\n      this._addDataSourceChangeHandler();\n    }\n    if (DATA_SOURCE_LOAD_ERROR_METHOD in this) {\n      this._addDataSourceLoadErrorHandler();\n    }\n    if (DATA_SOURCE_LOADING_CHANGED_METHOD in this) {\n      this._addDataSourceLoadingChangedHandler();\n    }\n    this._addReadyWatcher();\n  },\n  _addReadyWatcher: function () {\n    this._dataSource.on(\"loadingChanged\", function (isLoading) {\n      this._ready && this._ready(!isLoading);\n    }.bind(this));\n  },\n  _addDataSourceChangeHandler: function () {\n    var dataSource = this._dataSource;\n    this._proxiedDataSourceChangedHandler = function (e) {\n      this[DATA_SOURCE_CHANGED_METHOD](dataSource.items(), e);\n    }.bind(this);\n    dataSource.on(\"changed\", this._proxiedDataSourceChangedHandler);\n  },\n  _addDataSourceLoadErrorHandler: function () {\n    this._proxiedDataSourceLoadErrorHandler = this[DATA_SOURCE_LOAD_ERROR_METHOD].bind(this);\n    this._dataSource.on(\"loadError\", this._proxiedDataSourceLoadErrorHandler);\n  },\n  _addDataSourceLoadingChangedHandler: function () {\n    this._proxiedDataSourceLoadingChangedHandler = this[DATA_SOURCE_LOADING_CHANGED_METHOD].bind(this);\n    this._dataSource.on(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler);\n  },\n  _loadDataSource: function () {\n    if (this._dataSource) {\n      var dataSource = this._dataSource;\n      if (dataSource.isLoaded()) {\n        this._proxiedDataSourceChangedHandler && this._proxiedDataSourceChangedHandler();\n      } else {\n        dataSource.load();\n      }\n    }\n  },\n  _loadSingle: function (key, value) {\n    key = \"this\" === key ? this._dataSource.key() || \"this\" : key;\n    return this._dataSource.loadSingle(key, value);\n  },\n  _isLastPage: function () {\n    return !this._dataSource || this._dataSource.isLastPage() || !this._dataSource._pageSize;\n  },\n  _isDataSourceLoading: function () {\n    return this._dataSource && this._dataSource.isLoading();\n  },\n  _disposeDataSource: function () {\n    if (this._dataSource) {\n      if (this._isSharedDataSource) {\n        delete this._isSharedDataSource;\n        this._proxiedDataSourceChangedHandler && this._dataSource.off(\"changed\", this._proxiedDataSourceChangedHandler);\n        this._proxiedDataSourceLoadErrorHandler && this._dataSource.off(\"loadError\", this._proxiedDataSourceLoadErrorHandler);\n        this._proxiedDataSourceLoadingChangedHandler && this._dataSource.off(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler);\n      } else {\n        this._dataSource.dispose();\n      }\n      delete this._dataSource;\n      delete this._proxiedDataSourceChangedHandler;\n      delete this._proxiedDataSourceLoadErrorHandler;\n      delete this._proxiedDataSourceLoadingChangedHandler;\n    }\n  },\n  getDataSource: function () {\n    return this._dataSource || null;\n  }\n};\nexport default DataHelperMixin;","map":{"version":3,"names":["DataSource","extend","normalizeDataSourceOptions","DATA_SOURCE_OPTIONS_METHOD","DATA_SOURCE_CHANGED_METHOD","DATA_SOURCE_LOAD_ERROR_METHOD","DATA_SOURCE_LOADING_CHANGED_METHOD","DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD","SPECIFIC_DATA_SOURCE_OPTION","NORMALIZE_DATA_SOURCE","DataHelperMixin","postCtor","on","_disposeDataSource","bind","_refreshDataSource","_initDataSource","_loadDataSource","dataSourceOptions","option","widgetDataSourceOptions","dataSourceType","_isSharedDataSource","_dataSource","_dataSourceType","fromUrlLoadMode","_addDataSourceHandlers","_addDataSourceChangeHandler","_addDataSourceLoadErrorHandler","_addDataSourceLoadingChangedHandler","_addReadyWatcher","isLoading","_ready","dataSource","_proxiedDataSourceChangedHandler","e","items","_proxiedDataSourceLoadErrorHandler","_proxiedDataSourceLoadingChangedHandler","isLoaded","load","_loadSingle","key","value","loadSingle","_isLastPage","isLastPage","_pageSize","_isDataSourceLoading","off","dispose","getDataSource"],"sources":["C:/Users/User/vue-chart/node_modules/devextreme/esm/data_helper.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/data_helper.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    DataSource\r\n} from \"./data/data_source/data_source\";\r\nimport {\r\n    extend\r\n} from \"./core/utils/extend\";\r\nimport {\r\n    normalizeDataSourceOptions\r\n} from \"./data/data_source/utils\";\r\nvar DATA_SOURCE_OPTIONS_METHOD = \"_dataSourceOptions\";\r\nvar DATA_SOURCE_CHANGED_METHOD = \"_dataSourceChangedHandler\";\r\nvar DATA_SOURCE_LOAD_ERROR_METHOD = \"_dataSourceLoadErrorHandler\";\r\nvar DATA_SOURCE_LOADING_CHANGED_METHOD = \"_dataSourceLoadingChangedHandler\";\r\nvar DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD = \"_dataSourceFromUrlLoadMode\";\r\nvar SPECIFIC_DATA_SOURCE_OPTION = \"_getSpecificDataSourceOption\";\r\nvar NORMALIZE_DATA_SOURCE = \"_normalizeDataSource\";\r\nvar DataHelperMixin = {\r\n    postCtor: function() {\r\n        this.on(\"disposing\", function() {\r\n            this._disposeDataSource()\r\n        }.bind(this))\r\n    },\r\n    _refreshDataSource: function() {\r\n        this._initDataSource();\r\n        this._loadDataSource()\r\n    },\r\n    _initDataSource: function() {\r\n        var dataSourceOptions = SPECIFIC_DATA_SOURCE_OPTION in this ? this[SPECIFIC_DATA_SOURCE_OPTION]() : this.option(\"dataSource\");\r\n        var widgetDataSourceOptions;\r\n        var dataSourceType;\r\n        this._disposeDataSource();\r\n        if (dataSourceOptions) {\r\n            if (dataSourceOptions instanceof DataSource) {\r\n                this._isSharedDataSource = true;\r\n                this._dataSource = dataSourceOptions\r\n            } else {\r\n                widgetDataSourceOptions = DATA_SOURCE_OPTIONS_METHOD in this ? this[DATA_SOURCE_OPTIONS_METHOD]() : {};\r\n                dataSourceType = this._dataSourceType ? this._dataSourceType() : DataSource;\r\n                dataSourceOptions = normalizeDataSourceOptions(dataSourceOptions, {\r\n                    fromUrlLoadMode: DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD in this && this[DATA_SOURCE_FROM_URL_LOAD_MODE_METHOD]()\r\n                });\r\n                this._dataSource = new dataSourceType(extend(true, {}, widgetDataSourceOptions, dataSourceOptions))\r\n            }\r\n            if (NORMALIZE_DATA_SOURCE in this) {\r\n                this._dataSource = this[NORMALIZE_DATA_SOURCE](this._dataSource)\r\n            }\r\n            this._addDataSourceHandlers()\r\n        }\r\n    },\r\n    _addDataSourceHandlers: function() {\r\n        if (DATA_SOURCE_CHANGED_METHOD in this) {\r\n            this._addDataSourceChangeHandler()\r\n        }\r\n        if (DATA_SOURCE_LOAD_ERROR_METHOD in this) {\r\n            this._addDataSourceLoadErrorHandler()\r\n        }\r\n        if (DATA_SOURCE_LOADING_CHANGED_METHOD in this) {\r\n            this._addDataSourceLoadingChangedHandler()\r\n        }\r\n        this._addReadyWatcher()\r\n    },\r\n    _addReadyWatcher: function() {\r\n        this._dataSource.on(\"loadingChanged\", function(isLoading) {\r\n            this._ready && this._ready(!isLoading)\r\n        }.bind(this))\r\n    },\r\n    _addDataSourceChangeHandler: function() {\r\n        var dataSource = this._dataSource;\r\n        this._proxiedDataSourceChangedHandler = function(e) {\r\n            this[DATA_SOURCE_CHANGED_METHOD](dataSource.items(), e)\r\n        }.bind(this);\r\n        dataSource.on(\"changed\", this._proxiedDataSourceChangedHandler)\r\n    },\r\n    _addDataSourceLoadErrorHandler: function() {\r\n        this._proxiedDataSourceLoadErrorHandler = this[DATA_SOURCE_LOAD_ERROR_METHOD].bind(this);\r\n        this._dataSource.on(\"loadError\", this._proxiedDataSourceLoadErrorHandler)\r\n    },\r\n    _addDataSourceLoadingChangedHandler: function() {\r\n        this._proxiedDataSourceLoadingChangedHandler = this[DATA_SOURCE_LOADING_CHANGED_METHOD].bind(this);\r\n        this._dataSource.on(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler)\r\n    },\r\n    _loadDataSource: function() {\r\n        if (this._dataSource) {\r\n            var dataSource = this._dataSource;\r\n            if (dataSource.isLoaded()) {\r\n                this._proxiedDataSourceChangedHandler && this._proxiedDataSourceChangedHandler()\r\n            } else {\r\n                dataSource.load()\r\n            }\r\n        }\r\n    },\r\n    _loadSingle: function(key, value) {\r\n        key = \"this\" === key ? this._dataSource.key() || \"this\" : key;\r\n        return this._dataSource.loadSingle(key, value)\r\n    },\r\n    _isLastPage: function() {\r\n        return !this._dataSource || this._dataSource.isLastPage() || !this._dataSource._pageSize\r\n    },\r\n    _isDataSourceLoading: function() {\r\n        return this._dataSource && this._dataSource.isLoading()\r\n    },\r\n    _disposeDataSource: function() {\r\n        if (this._dataSource) {\r\n            if (this._isSharedDataSource) {\r\n                delete this._isSharedDataSource;\r\n                this._proxiedDataSourceChangedHandler && this._dataSource.off(\"changed\", this._proxiedDataSourceChangedHandler);\r\n                this._proxiedDataSourceLoadErrorHandler && this._dataSource.off(\"loadError\", this._proxiedDataSourceLoadErrorHandler);\r\n                this._proxiedDataSourceLoadingChangedHandler && this._dataSource.off(\"loadingChanged\", this._proxiedDataSourceLoadingChangedHandler)\r\n            } else {\r\n                this._dataSource.dispose()\r\n            }\r\n            delete this._dataSource;\r\n            delete this._proxiedDataSourceChangedHandler;\r\n            delete this._proxiedDataSourceLoadErrorHandler;\r\n            delete this._proxiedDataSourceLoadingChangedHandler\r\n        }\r\n    },\r\n    getDataSource: function() {\r\n        return this._dataSource || null\r\n    }\r\n};\r\nexport default DataHelperMixin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}