{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\r\n * DevExtreme (esm/viz/series/points/symbol_point.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extend } from \"../../../core/utils/extend\";\nimport { each } from \"../../../core/utils/iterator\";\nimport { noop } from \"../../../core/utils/common\";\nimport { getWindow, hasProperty } from \"../../../core/utils/window\";\nvar window = getWindow();\nimport { Label } from \"./label\";\nvar _extend = extend;\nimport { isDefined as _isDefined } from \"../../../core/utils/type\";\nimport { normalizeEnum as _normalizeEnum } from \"../../core/utils\";\nvar _math = Math;\nvar _round = _math.round;\nvar _floor = _math.floor;\nvar _ceil = _math.ceil;\nvar DEFAULT_IMAGE_WIDTH = 20;\nvar DEFAULT_IMAGE_HEIGHT = 20;\nvar LABEL_OFFSET = 10;\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\nfunction getSquareMarkerCoords(radius) {\n  return [-radius, -radius, radius, -radius, radius, radius, -radius, radius, -radius, -radius];\n}\nfunction getPolygonMarkerCoords(radius) {\n  var r = _ceil(radius);\n  return [-r, 0, 0, -r, r, 0, 0, r, -r, 0];\n}\nfunction getCrossMarkerCoords(radius) {\n  var r = _ceil(radius);\n  var floorHalfRadius = _floor(r / 2);\n  var ceilHalfRadius = _ceil(r / 2);\n  return [-r, -floorHalfRadius, -floorHalfRadius, -r, 0, -ceilHalfRadius, floorHalfRadius, -r, r, -floorHalfRadius, ceilHalfRadius, 0, r, floorHalfRadius, floorHalfRadius, r, 0, ceilHalfRadius, -floorHalfRadius, r, -r, floorHalfRadius, -ceilHalfRadius, 0];\n}\nfunction getTriangleDownMarkerCoords(radius) {\n  return [-radius, -radius, radius, -radius, 0, radius, -radius, -radius];\n}\nfunction getTriangleUpMarkerCoords(radius) {\n  return [-radius, radius, radius, radius, 0, -radius, -radius, radius];\n}\nexport default {\n  deleteLabel: function () {\n    this._label.dispose();\n    this._label = null;\n  },\n  _hasGraphic: function () {\n    return this.graphic;\n  },\n  clearVisibility: function () {\n    var graphic = this.graphic;\n    if (graphic && graphic.attr(\"visibility\")) {\n      graphic.attr({\n        visibility: null\n      });\n    }\n  },\n  isVisible: function () {\n    return this.inVisibleArea && this.series.isVisible();\n  },\n  setInvisibility: function () {\n    var graphic = this.graphic;\n    if (graphic && \"hidden\" !== graphic.attr(\"visibility\")) {\n      graphic.attr({\n        visibility: \"hidden\"\n      });\n    }\n    this._errorBar && this._errorBar.attr({\n      visibility: \"hidden\"\n    });\n    this._label.draw(false);\n  },\n  clearMarker: function () {\n    var graphic = this.graphic;\n    graphic && graphic.attr(this._emptySettings);\n  },\n  _createLabel: function () {\n    this._label = new Label({\n      renderer: this.series._renderer,\n      labelsGroup: this.series._labelsGroup,\n      point: this\n    });\n  },\n  _updateLabelData: function () {\n    this._label.setData(this._getLabelFormatObject());\n  },\n  _updateLabelOptions: function () {\n    !this._label && this._createLabel();\n    this._label.setOptions(this._options.label);\n  },\n  _checkImage: function (image) {\n    return _isDefined(image) && (\"string\" === typeof image || _isDefined(image.url));\n  },\n  _fillStyle: function () {\n    this._styles = this._options.styles;\n  },\n  _checkSymbol: function (oldOptions, newOptions) {\n    var oldSymbol = oldOptions.symbol;\n    var newSymbol = newOptions.symbol;\n    var symbolChanged = \"circle\" === oldSymbol && \"circle\" !== newSymbol || \"circle\" !== oldSymbol && \"circle\" === newSymbol;\n    var imageChanged = this._checkImage(oldOptions.image) !== this._checkImage(newOptions.image);\n    return !!(symbolChanged || imageChanged);\n  },\n  _populatePointShape: function (symbol, radius) {\n    switch (symbol) {\n      case \"square\":\n        return getSquareMarkerCoords(radius);\n      case \"polygon\":\n        return getPolygonMarkerCoords(radius);\n      case \"triangle\":\n      case \"triangleDown\":\n        return getTriangleDownMarkerCoords(radius);\n      case \"triangleUp\":\n        return getTriangleUpMarkerCoords(radius);\n      case \"cross\":\n        return getCrossMarkerCoords(radius);\n    }\n  },\n  hasCoords: function () {\n    return null !== this.x && null !== this.y;\n  },\n  correctValue: function (correction) {\n    var axis = this.series.getValueAxis();\n    if (this.hasValue()) {\n      this.value = this.properValue = axis.validateUnit(this.initialValue.valueOf() + correction.valueOf());\n      this.minValue = axis.validateUnit(correction);\n    }\n  },\n  resetCorrection: function () {\n    this.value = this.properValue = this.initialValue;\n    this.minValue = CANVAS_POSITION_DEFAULT;\n  },\n  resetValue: function () {\n    if (this.hasValue()) {\n      this.value = this.properValue = this.initialValue = 0;\n      this.minValue = 0;\n      this._label.setDataField(\"value\", this.value);\n    }\n  },\n  _getTranslates: function (animationEnabled) {\n    var translateX = this.x;\n    var translateY = this.y;\n    if (animationEnabled) {\n      if (this._options.rotated) {\n        translateX = this.defaultX;\n      } else {\n        translateY = this.defaultY;\n      }\n    }\n    return {\n      x: translateX,\n      y: translateY\n    };\n  },\n  _createImageMarker: function (renderer, settings, options) {\n    var width = options.width || DEFAULT_IMAGE_WIDTH;\n    var height = options.height || DEFAULT_IMAGE_HEIGHT;\n    return renderer.image(-_round(.5 * width), -_round(.5 * height), width, height, options.url ? options.url.toString() : options.toString(), \"center\").attr({\n      translateX: settings.translateX,\n      translateY: settings.translateY,\n      visibility: settings.visibility\n    });\n  },\n  _createSymbolMarker: function (renderer, pointSettings) {\n    var marker;\n    var symbol = this._options.symbol;\n    if (\"circle\" === symbol) {\n      delete pointSettings.points;\n      marker = renderer.circle().attr(pointSettings);\n    } else if (\"square\" === symbol || \"polygon\" === symbol || \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol || \"cross\" === symbol) {\n      marker = renderer.path([], \"area\").attr(pointSettings).sharp();\n    }\n    return marker;\n  },\n  _createMarker: function (renderer, group, image, settings) {\n    var marker = this._checkImage(image) ? this._createImageMarker(renderer, settings, image) : this._createSymbolMarker(renderer, settings);\n    if (marker) {\n      marker.data({\n        \"chart-data-point\": this\n      }).append(group);\n    }\n    return marker;\n  },\n  _getSymbolBBox: function (x, y, r) {\n    return {\n      x: x - r,\n      y: y - r,\n      width: 2 * r,\n      height: 2 * r\n    };\n  },\n  _getImageBBox: function (x, y) {\n    var image = this._options.image;\n    var width = image.width || DEFAULT_IMAGE_WIDTH;\n    var height = image.height || DEFAULT_IMAGE_HEIGHT;\n    return {\n      x: x - _round(width / 2),\n      y: y - _round(height / 2),\n      width: width,\n      height: height\n    };\n  },\n  _getGraphicBBox: function () {\n    var options = this._options;\n    var x = this.x;\n    var y = this.y;\n    var bBox;\n    if (options.visible) {\n      bBox = this._checkImage(options.image) ? this._getImageBBox(x, y) : this._getSymbolBBox(x, y, options.styles.normal.r);\n    } else {\n      bBox = {\n        x: x,\n        y: y,\n        width: 0,\n        height: 0\n      };\n    }\n    return bBox;\n  },\n  hideInsideLabel: noop,\n  _getShiftLabelCoords: function (label) {\n    var coord = this._addLabelAlignmentAndOffset(label, this._getLabelCoords(label));\n    return this._checkLabelPosition(label, coord);\n  },\n  _drawLabel: function () {\n    var customVisibility = this._getCustomLabelVisibility();\n    var label = this._label;\n    var isVisible = this._showForZeroValues() && this.hasValue() && false !== customVisibility && (this.series.getLabelVisibility() || customVisibility);\n    label.draw(!!isVisible);\n  },\n  correctLabelPosition: function (label) {\n    var coord = this._getShiftLabelCoords(label);\n    if (!this.hideInsideLabel(label, coord)) {\n      label.setFigureToDrawConnector(this._getLabelConnector(label.pointPosition));\n      label.shift(_round(coord.x), _round(coord.y));\n    }\n  },\n  _showForZeroValues: function () {\n    return true;\n  },\n  _getLabelConnector: function (pointPosition) {\n    var bBox = this._getGraphicBBox(pointPosition);\n    var w2 = bBox.width / 2;\n    var h2 = bBox.height / 2;\n    return {\n      x: bBox.x + w2,\n      y: bBox.y + h2,\n      r: this._options.visible ? Math.max(w2, h2) : 0\n    };\n  },\n  _getPositionFromLocation: function () {\n    return {\n      x: this.x,\n      y: this.y\n    };\n  },\n  _isPointInVisibleArea: function (visibleArea, graphicBBox) {\n    return visibleArea.minX <= graphicBBox.x + graphicBBox.width && visibleArea.maxX >= graphicBBox.x && visibleArea.minY <= graphicBBox.y + graphicBBox.height && visibleArea.maxY >= graphicBBox.y;\n  },\n  _checkLabelPosition: function (label, coord) {\n    var visibleArea = this._getVisibleArea();\n    var labelBBox = label.getBoundingRect();\n    var graphicBBox = this._getGraphicBBox(label.pointPosition);\n    var fullGraphicBBox = this._getGraphicBBox();\n    var isInside = \"inside\" === label.getLayoutOptions().position;\n    var offset = LABEL_OFFSET;\n    if (this._isPointInVisibleArea(visibleArea, fullGraphicBBox)) {\n      if (!this._options.rotated) {\n        if (visibleArea.minX > coord.x) {\n          coord.x = visibleArea.minX;\n        }\n        if (visibleArea.maxX < coord.x + labelBBox.width) {\n          coord.x = visibleArea.maxX - labelBBox.width;\n        }\n        if (visibleArea.minY > coord.y) {\n          coord.y = isInside ? visibleArea.minY : graphicBBox.y + graphicBBox.height + offset;\n        }\n        if (visibleArea.maxY < coord.y + labelBBox.height) {\n          coord.y = isInside ? visibleArea.maxY - labelBBox.height : graphicBBox.y - labelBBox.height - offset;\n        }\n      } else {\n        if (visibleArea.minX > coord.x) {\n          coord.x = isInside ? visibleArea.minX : graphicBBox.x + graphicBBox.width + offset;\n        }\n        if (visibleArea.maxX < coord.x + labelBBox.width) {\n          coord.x = isInside ? visibleArea.maxX - labelBBox.width : graphicBBox.x - offset - labelBBox.width;\n        }\n        if (visibleArea.minY > coord.y) {\n          coord.y = visibleArea.minY;\n        }\n        if (visibleArea.maxY < coord.y + labelBBox.height) {\n          coord.y = visibleArea.maxY - labelBBox.height;\n        }\n      }\n    }\n    return coord;\n  },\n  _addLabelAlignmentAndOffset: function (label, coord) {\n    var labelBBox = label.getBoundingRect();\n    var labelOptions = label.getLayoutOptions();\n    if (!this._options.rotated) {\n      if (\"left\" === labelOptions.alignment) {\n        coord.x += labelBBox.width / 2;\n      } else if (\"right\" === labelOptions.alignment) {\n        coord.x -= labelBBox.width / 2;\n      }\n    }\n    coord.x += labelOptions.horizontalOffset;\n    coord.y += labelOptions.verticalOffset;\n    return coord;\n  },\n  _getLabelCoords: function (label) {\n    return this._getLabelCoordOfPosition(label, this._getLabelPosition(label.pointPosition));\n  },\n  _getLabelCoordOfPosition: function (label, position) {\n    var labelBBox = label.getBoundingRect();\n    var graphicBBox = this._getGraphicBBox(label.pointPosition);\n    var offset = LABEL_OFFSET;\n    var centerY = graphicBBox.height / 2 - labelBBox.height / 2;\n    var centerX = graphicBBox.width / 2 - labelBBox.width / 2;\n    var x = graphicBBox.x;\n    var y = graphicBBox.y;\n    switch (position) {\n      case \"left\":\n        x -= labelBBox.width + offset;\n        y += centerY;\n        break;\n      case \"right\":\n        x += graphicBBox.width + offset;\n        y += centerY;\n        break;\n      case \"top\":\n        x += centerX;\n        y -= labelBBox.height + offset;\n        break;\n      case \"bottom\":\n        x += centerX;\n        y += graphicBBox.height + offset;\n        break;\n      case \"inside\":\n        x += centerX;\n        y += centerY;\n    }\n    return {\n      x: x,\n      y: y\n    };\n  },\n  _drawMarker: function (renderer, group, animationEnabled) {\n    var options = this._options;\n    var translates = this._getTranslates(animationEnabled);\n    var style = this._getStyle();\n    this.graphic = this._createMarker(renderer, group, options.image, _extend({\n      translateX: translates.x,\n      translateY: translates.y,\n      points: this._populatePointShape(options.symbol, style.r)\n    }, style));\n  },\n  _getErrorBarSettings: function () {\n    return {\n      visibility: \"visible\"\n    };\n  },\n  _getErrorBarBaseEdgeLength() {\n    return 2 * this.getPointRadius();\n  },\n  _drawErrorBar: function (renderer, group) {\n    if (!this._options.errorBars) {\n      return;\n    }\n    var options = this._options;\n    var errorBarOptions = options.errorBars;\n    var points = [];\n    var settings;\n    var pos = this._errorBarPos;\n    var high = this._highErrorCoord;\n    var low = this._lowErrorCoord;\n    var displayMode = _normalizeEnum(errorBarOptions.displayMode);\n    var isHighDisplayMode = \"high\" === displayMode;\n    var isLowDisplayMode = \"low\" === displayMode;\n    var highErrorOnly = (isHighDisplayMode || !_isDefined(low)) && _isDefined(high) && !isLowDisplayMode;\n    var lowErrorOnly = (isLowDisplayMode || !_isDefined(high)) && _isDefined(low) && !isHighDisplayMode;\n    var edgeLength = errorBarOptions.edgeLength;\n    if (edgeLength <= 1 && edgeLength > 0) {\n      edgeLength = this._getErrorBarBaseEdgeLength() * errorBarOptions.edgeLength;\n    }\n    edgeLength = _floor(parseInt(edgeLength) / 2);\n    highErrorOnly && (low = this._baseErrorBarPos);\n    lowErrorOnly && (high = this._baseErrorBarPos);\n    if (\"none\" !== displayMode && _isDefined(high) && _isDefined(low) && _isDefined(pos)) {\n      !lowErrorOnly && points.push([pos - edgeLength, high, pos + edgeLength, high]);\n      points.push([pos, high, pos, low]);\n      !highErrorOnly && points.push([pos + edgeLength, low, pos - edgeLength, low]);\n      options.rotated && each(points, function (_, p) {\n        p.reverse();\n      });\n      settings = this._getErrorBarSettings(errorBarOptions);\n      if (!this._errorBar) {\n        this._errorBar = renderer.path(points, \"line\").attr(settings).append(group);\n      } else {\n        settings.points = points;\n        this._errorBar.attr(settings);\n      }\n    } else {\n      this._errorBar && this._errorBar.attr({\n        visibility: \"hidden\"\n      });\n    }\n  },\n  getTooltipParams: function () {\n    var graphic = this.graphic;\n    return {\n      x: this.x,\n      y: this.y,\n      offset: graphic ? graphic.getBBox().height / 2 : 0\n    };\n  },\n  setPercentValue: function (absTotal, total, leftHoleTotal, rightHoleTotal) {\n    var valuePercent = this.value / absTotal || 0;\n    var minValuePercent = this.minValue / absTotal || 0;\n    var percent = valuePercent - minValuePercent;\n    this._label.setDataField(\"percent\", percent);\n    this._label.setDataField(\"total\", total);\n    if (this.series.isFullStackedSeries() && this.hasValue()) {\n      if (this.leftHole) {\n        this.leftHole /= absTotal - leftHoleTotal;\n        this.minLeftHole /= absTotal - leftHoleTotal;\n      }\n      if (this.rightHole) {\n        this.rightHole /= absTotal - rightHoleTotal;\n        this.minRightHole /= absTotal - rightHoleTotal;\n      }\n      this.value = this.properValue = valuePercent;\n      this.minValue = !minValuePercent ? this.minValue : minValuePercent;\n    }\n  },\n  _storeTrackerR: function () {\n    var navigator = window.navigator;\n    var r = this._options.styles.normal.r;\n    var minTrackerSize = hasProperty(\"ontouchstart\") || navigator.msPointerEnabled && navigator.msMaxTouchPoints || navigator.pointerEnabled && navigator.maxTouchPoints ? 20 : 6;\n    this._options.trackerR = r < minTrackerSize ? minTrackerSize : r;\n    return this._options.trackerR;\n  },\n  _translateErrorBars: function () {\n    var options = this._options;\n    var rotated = options.rotated;\n    var errorBars = options.errorBars;\n    var translator = this._getValTranslator();\n    if (!errorBars) {\n      return;\n    }\n    _isDefined(this.lowError) && (this._lowErrorCoord = translator.translate(this.lowError));\n    _isDefined(this.highError) && (this._highErrorCoord = translator.translate(this.highError));\n    this._errorBarPos = _floor(rotated ? this.vy : this.vx);\n    this._baseErrorBarPos = \"stdDeviation\" === errorBars.type ? this._lowErrorCoord + (this._highErrorCoord - this._lowErrorCoord) / 2 : rotated ? this.vx : this.vy;\n  },\n  _translate: function () {\n    var valTranslator = this._getValTranslator();\n    var argTranslator = this._getArgTranslator();\n    if (this._options.rotated) {\n      this.vx = this.x = valTranslator.translate(this.value);\n      this.vy = this.y = argTranslator.translate(this.argument);\n      this.minX = valTranslator.translate(this.minValue);\n      this.defaultX = valTranslator.translate(CANVAS_POSITION_DEFAULT);\n    } else {\n      this.vy = this.y = valTranslator.translate(this.value);\n      this.vx = this.x = argTranslator.translate(this.argument);\n      this.minY = valTranslator.translate(this.minValue);\n      this.defaultY = valTranslator.translate(CANVAS_POSITION_DEFAULT);\n    }\n    this._translateErrorBars();\n    this._calculateVisibility(this.x, this.y);\n  },\n  _updateData: function (data) {\n    this.value = this.properValue = this.initialValue = this.originalValue = data.value;\n    this.minValue = this.initialMinValue = this.originalMinValue = _isDefined(data.minValue) ? data.minValue : CANVAS_POSITION_DEFAULT;\n  },\n  _getImageSettings: function (image) {\n    return {\n      href: image.url || image.toString(),\n      width: image.width || DEFAULT_IMAGE_WIDTH,\n      height: image.height || DEFAULT_IMAGE_HEIGHT\n    };\n  },\n  getCrosshairData: function () {\n    var r = this._options.rotated;\n    var value = this.properValue;\n    var argument = this.argument;\n    return {\n      x: this.vx,\n      y: this.vy,\n      xValue: r ? value : argument,\n      yValue: r ? argument : value,\n      axis: this.series.axis\n    };\n  },\n  getPointRadius: function () {\n    var style = this._getStyle();\n    var options = this._options;\n    var r = style.r;\n    var extraSpace;\n    var symbol = options.symbol;\n    var isSquare = \"square\" === symbol;\n    var isTriangle = \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol;\n    if (options.visible && !options.image && r) {\n      extraSpace = style[\"stroke-width\"] / 2;\n      return (isSquare || isTriangle ? 1.4 * r : r) + extraSpace;\n    }\n    return 0;\n  },\n  _updateMarker: function (animationEnabled, style) {\n    var options = this._options;\n    var settings;\n    var image = options.image;\n    var visibility = !this.isVisible() ? {\n      visibility: \"hidden\"\n    } : {};\n    if (this._checkImage(image)) {\n      settings = _extend({}, {\n        visibility: style.visibility\n      }, visibility, this._getImageSettings(image));\n    } else {\n      settings = _extend({}, style, visibility, {\n        points: this._populatePointShape(options.symbol, style.r)\n      });\n    }\n    if (!animationEnabled) {\n      settings.translateX = this.x;\n      settings.translateY = this.y;\n    }\n    this.graphic.attr(settings).sharp();\n  },\n  _getLabelFormatObject: function () {\n    return {\n      argument: this.initialArgument,\n      value: this.initialValue,\n      originalArgument: this.originalArgument,\n      originalValue: this.originalValue,\n      seriesName: this.series.name,\n      lowErrorValue: this.lowError,\n      highErrorValue: this.highError,\n      point: this\n    };\n  },\n  _getLabelPosition: function () {\n    var rotated = this._options.rotated;\n    if (this.initialValue > 0) {\n      return rotated ? \"right\" : \"top\";\n    } else {\n      return rotated ? \"left\" : \"bottom\";\n    }\n  },\n  _getFormatObject: function (tooltip) {\n    var labelFormatObject = this._label.getData();\n    return _extend({}, labelFormatObject, {\n      argumentText: tooltip.formatValue(this.initialArgument, \"argument\"),\n      valueText: tooltip.formatValue(this.initialValue)\n    }, _isDefined(labelFormatObject.percent) ? {\n      percentText: tooltip.formatValue(labelFormatObject.percent, \"percent\")\n    } : {}, _isDefined(labelFormatObject.total) ? {\n      totalText: tooltip.formatValue(labelFormatObject.total)\n    } : {});\n  },\n  getMarkerVisibility: function () {\n    return this._options.visible;\n  },\n  coordsIn: function (x, y) {\n    var trackerRadius = this._storeTrackerR();\n    return x >= this.x - trackerRadius && x <= this.x + trackerRadius && y >= this.y - trackerRadius && y <= this.y + trackerRadius;\n  },\n  getMinValue: function (noErrorBar) {\n    var errorBarOptions = this._options.errorBars;\n    if (errorBarOptions && !noErrorBar) {\n      var displayMode = errorBarOptions.displayMode;\n      var lowValue = \"high\" !== displayMode && _isDefined(this.lowError) ? this.lowError : this.value;\n      var highValue = \"low\" !== displayMode && _isDefined(this.highError) ? this.highError : this.value;\n      return lowValue < highValue ? lowValue : highValue;\n    } else {\n      return this.value;\n    }\n  },\n  getMaxValue: function (noErrorBar) {\n    var errorBarOptions = this._options.errorBars;\n    if (errorBarOptions && !noErrorBar) {\n      var displayMode = errorBarOptions.displayMode;\n      var lowValue = \"high\" !== displayMode && _isDefined(this.lowError) ? this.lowError : this.value;\n      var highValue = \"low\" !== displayMode && _isDefined(this.highError) ? this.highError : this.value;\n      return lowValue > highValue ? lowValue : highValue;\n    } else {\n      return this.value;\n    }\n  }\n};","map":{"version":3,"names":["extend","each","noop","getWindow","hasProperty","window","Label","_extend","isDefined","_isDefined","normalizeEnum","_normalizeEnum","_math","Math","_round","round","_floor","floor","_ceil","ceil","DEFAULT_IMAGE_WIDTH","DEFAULT_IMAGE_HEIGHT","LABEL_OFFSET","CANVAS_POSITION_DEFAULT","getSquareMarkerCoords","radius","getPolygonMarkerCoords","r","getCrossMarkerCoords","floorHalfRadius","ceilHalfRadius","getTriangleDownMarkerCoords","getTriangleUpMarkerCoords","deleteLabel","_label","dispose","_hasGraphic","graphic","clearVisibility","attr","visibility","isVisible","inVisibleArea","series","setInvisibility","_errorBar","draw","clearMarker","_emptySettings","_createLabel","renderer","_renderer","labelsGroup","_labelsGroup","point","_updateLabelData","setData","_getLabelFormatObject","_updateLabelOptions","setOptions","_options","label","_checkImage","image","url","_fillStyle","_styles","styles","_checkSymbol","oldOptions","newOptions","oldSymbol","symbol","newSymbol","symbolChanged","imageChanged","_populatePointShape","hasCoords","x","y","correctValue","correction","axis","getValueAxis","hasValue","value","properValue","validateUnit","initialValue","valueOf","minValue","resetCorrection","resetValue","setDataField","_getTranslates","animationEnabled","translateX","translateY","rotated","defaultX","defaultY","_createImageMarker","settings","options","width","height","toString","_createSymbolMarker","pointSettings","marker","points","circle","path","sharp","_createMarker","group","data","append","_getSymbolBBox","_getImageBBox","_getGraphicBBox","bBox","visible","normal","hideInsideLabel","_getShiftLabelCoords","coord","_addLabelAlignmentAndOffset","_getLabelCoords","_checkLabelPosition","_drawLabel","customVisibility","_getCustomLabelVisibility","_showForZeroValues","getLabelVisibility","correctLabelPosition","setFigureToDrawConnector","_getLabelConnector","pointPosition","shift","w2","h2","max","_getPositionFromLocation","_isPointInVisibleArea","visibleArea","graphicBBox","minX","maxX","minY","maxY","_getVisibleArea","labelBBox","getBoundingRect","fullGraphicBBox","isInside","getLayoutOptions","position","offset","labelOptions","alignment","horizontalOffset","verticalOffset","_getLabelCoordOfPosition","_getLabelPosition","centerY","centerX","_drawMarker","translates","style","_getStyle","_getErrorBarSettings","_getErrorBarBaseEdgeLength","getPointRadius","_drawErrorBar","errorBars","errorBarOptions","pos","_errorBarPos","high","_highErrorCoord","low","_lowErrorCoord","displayMode","isHighDisplayMode","isLowDisplayMode","highErrorOnly","lowErrorOnly","edgeLength","parseInt","_baseErrorBarPos","push","_","p","reverse","getTooltipParams","getBBox","setPercentValue","absTotal","total","leftHoleTotal","rightHoleTotal","valuePercent","minValuePercent","percent","isFullStackedSeries","leftHole","minLeftHole","rightHole","minRightHole","_storeTrackerR","navigator","minTrackerSize","msPointerEnabled","msMaxTouchPoints","pointerEnabled","maxTouchPoints","trackerR","_translateErrorBars","translator","_getValTranslator","lowError","translate","highError","vy","vx","type","_translate","valTranslator","argTranslator","_getArgTranslator","argument","_calculateVisibility","_updateData","originalValue","initialMinValue","originalMinValue","_getImageSettings","href","getCrosshairData","xValue","yValue","extraSpace","isSquare","isTriangle","_updateMarker","initialArgument","originalArgument","seriesName","name","lowErrorValue","highErrorValue","_getFormatObject","tooltip","labelFormatObject","getData","argumentText","formatValue","valueText","percentText","totalText","getMarkerVisibility","coordsIn","trackerRadius","getMinValue","noErrorBar","lowValue","highValue","getMaxValue"],"sources":["C:/Users/User/vue-chart/node_modules/devextreme/esm/viz/series/points/symbol_point.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/series/points/symbol_point.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../../core/utils/iterator\";\r\nimport {\r\n    noop\r\n} from \"../../../core/utils/common\";\r\nimport {\r\n    getWindow,\r\n    hasProperty\r\n} from \"../../../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    Label\r\n} from \"./label\";\r\nvar _extend = extend;\r\nimport {\r\n    isDefined as _isDefined\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    normalizeEnum as _normalizeEnum\r\n} from \"../../core/utils\";\r\nvar _math = Math;\r\nvar _round = _math.round;\r\nvar _floor = _math.floor;\r\nvar _ceil = _math.ceil;\r\nvar DEFAULT_IMAGE_WIDTH = 20;\r\nvar DEFAULT_IMAGE_HEIGHT = 20;\r\nvar LABEL_OFFSET = 10;\r\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\r\n\r\nfunction getSquareMarkerCoords(radius) {\r\n    return [-radius, -radius, radius, -radius, radius, radius, -radius, radius, -radius, -radius]\r\n}\r\n\r\nfunction getPolygonMarkerCoords(radius) {\r\n    var r = _ceil(radius);\r\n    return [-r, 0, 0, -r, r, 0, 0, r, -r, 0]\r\n}\r\n\r\nfunction getCrossMarkerCoords(radius) {\r\n    var r = _ceil(radius);\r\n    var floorHalfRadius = _floor(r / 2);\r\n    var ceilHalfRadius = _ceil(r / 2);\r\n    return [-r, -floorHalfRadius, -floorHalfRadius, -r, 0, -ceilHalfRadius, floorHalfRadius, -r, r, -floorHalfRadius, ceilHalfRadius, 0, r, floorHalfRadius, floorHalfRadius, r, 0, ceilHalfRadius, -floorHalfRadius, r, -r, floorHalfRadius, -ceilHalfRadius, 0]\r\n}\r\n\r\nfunction getTriangleDownMarkerCoords(radius) {\r\n    return [-radius, -radius, radius, -radius, 0, radius, -radius, -radius]\r\n}\r\n\r\nfunction getTriangleUpMarkerCoords(radius) {\r\n    return [-radius, radius, radius, radius, 0, -radius, -radius, radius]\r\n}\r\nexport default {\r\n    deleteLabel: function() {\r\n        this._label.dispose();\r\n        this._label = null\r\n    },\r\n    _hasGraphic: function() {\r\n        return this.graphic\r\n    },\r\n    clearVisibility: function() {\r\n        var graphic = this.graphic;\r\n        if (graphic && graphic.attr(\"visibility\")) {\r\n            graphic.attr({\r\n                visibility: null\r\n            })\r\n        }\r\n    },\r\n    isVisible: function() {\r\n        return this.inVisibleArea && this.series.isVisible()\r\n    },\r\n    setInvisibility: function() {\r\n        var graphic = this.graphic;\r\n        if (graphic && \"hidden\" !== graphic.attr(\"visibility\")) {\r\n            graphic.attr({\r\n                visibility: \"hidden\"\r\n            })\r\n        }\r\n        this._errorBar && this._errorBar.attr({\r\n            visibility: \"hidden\"\r\n        });\r\n        this._label.draw(false)\r\n    },\r\n    clearMarker: function() {\r\n        var graphic = this.graphic;\r\n        graphic && graphic.attr(this._emptySettings)\r\n    },\r\n    _createLabel: function() {\r\n        this._label = new Label({\r\n            renderer: this.series._renderer,\r\n            labelsGroup: this.series._labelsGroup,\r\n            point: this\r\n        })\r\n    },\r\n    _updateLabelData: function() {\r\n        this._label.setData(this._getLabelFormatObject())\r\n    },\r\n    _updateLabelOptions: function() {\r\n        !this._label && this._createLabel();\r\n        this._label.setOptions(this._options.label)\r\n    },\r\n    _checkImage: function(image) {\r\n        return _isDefined(image) && (\"string\" === typeof image || _isDefined(image.url))\r\n    },\r\n    _fillStyle: function() {\r\n        this._styles = this._options.styles\r\n    },\r\n    _checkSymbol: function(oldOptions, newOptions) {\r\n        var oldSymbol = oldOptions.symbol;\r\n        var newSymbol = newOptions.symbol;\r\n        var symbolChanged = \"circle\" === oldSymbol && \"circle\" !== newSymbol || \"circle\" !== oldSymbol && \"circle\" === newSymbol;\r\n        var imageChanged = this._checkImage(oldOptions.image) !== this._checkImage(newOptions.image);\r\n        return !!(symbolChanged || imageChanged)\r\n    },\r\n    _populatePointShape: function(symbol, radius) {\r\n        switch (symbol) {\r\n            case \"square\":\r\n                return getSquareMarkerCoords(radius);\r\n            case \"polygon\":\r\n                return getPolygonMarkerCoords(radius);\r\n            case \"triangle\":\r\n            case \"triangleDown\":\r\n                return getTriangleDownMarkerCoords(radius);\r\n            case \"triangleUp\":\r\n                return getTriangleUpMarkerCoords(radius);\r\n            case \"cross\":\r\n                return getCrossMarkerCoords(radius)\r\n        }\r\n    },\r\n    hasCoords: function() {\r\n        return null !== this.x && null !== this.y\r\n    },\r\n    correctValue: function(correction) {\r\n        var axis = this.series.getValueAxis();\r\n        if (this.hasValue()) {\r\n            this.value = this.properValue = axis.validateUnit(this.initialValue.valueOf() + correction.valueOf());\r\n            this.minValue = axis.validateUnit(correction)\r\n        }\r\n    },\r\n    resetCorrection: function() {\r\n        this.value = this.properValue = this.initialValue;\r\n        this.minValue = CANVAS_POSITION_DEFAULT\r\n    },\r\n    resetValue: function() {\r\n        if (this.hasValue()) {\r\n            this.value = this.properValue = this.initialValue = 0;\r\n            this.minValue = 0;\r\n            this._label.setDataField(\"value\", this.value)\r\n        }\r\n    },\r\n    _getTranslates: function(animationEnabled) {\r\n        var translateX = this.x;\r\n        var translateY = this.y;\r\n        if (animationEnabled) {\r\n            if (this._options.rotated) {\r\n                translateX = this.defaultX\r\n            } else {\r\n                translateY = this.defaultY\r\n            }\r\n        }\r\n        return {\r\n            x: translateX,\r\n            y: translateY\r\n        }\r\n    },\r\n    _createImageMarker: function(renderer, settings, options) {\r\n        var width = options.width || DEFAULT_IMAGE_WIDTH;\r\n        var height = options.height || DEFAULT_IMAGE_HEIGHT;\r\n        return renderer.image(-_round(.5 * width), -_round(.5 * height), width, height, options.url ? options.url.toString() : options.toString(), \"center\").attr({\r\n            translateX: settings.translateX,\r\n            translateY: settings.translateY,\r\n            visibility: settings.visibility\r\n        })\r\n    },\r\n    _createSymbolMarker: function(renderer, pointSettings) {\r\n        var marker;\r\n        var symbol = this._options.symbol;\r\n        if (\"circle\" === symbol) {\r\n            delete pointSettings.points;\r\n            marker = renderer.circle().attr(pointSettings)\r\n        } else if (\"square\" === symbol || \"polygon\" === symbol || \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol || \"cross\" === symbol) {\r\n            marker = renderer.path([], \"area\").attr(pointSettings).sharp()\r\n        }\r\n        return marker\r\n    },\r\n    _createMarker: function(renderer, group, image, settings) {\r\n        var marker = this._checkImage(image) ? this._createImageMarker(renderer, settings, image) : this._createSymbolMarker(renderer, settings);\r\n        if (marker) {\r\n            marker.data({\r\n                \"chart-data-point\": this\r\n            }).append(group)\r\n        }\r\n        return marker\r\n    },\r\n    _getSymbolBBox: function(x, y, r) {\r\n        return {\r\n            x: x - r,\r\n            y: y - r,\r\n            width: 2 * r,\r\n            height: 2 * r\r\n        }\r\n    },\r\n    _getImageBBox: function(x, y) {\r\n        var image = this._options.image;\r\n        var width = image.width || DEFAULT_IMAGE_WIDTH;\r\n        var height = image.height || DEFAULT_IMAGE_HEIGHT;\r\n        return {\r\n            x: x - _round(width / 2),\r\n            y: y - _round(height / 2),\r\n            width: width,\r\n            height: height\r\n        }\r\n    },\r\n    _getGraphicBBox: function() {\r\n        var options = this._options;\r\n        var x = this.x;\r\n        var y = this.y;\r\n        var bBox;\r\n        if (options.visible) {\r\n            bBox = this._checkImage(options.image) ? this._getImageBBox(x, y) : this._getSymbolBBox(x, y, options.styles.normal.r)\r\n        } else {\r\n            bBox = {\r\n                x: x,\r\n                y: y,\r\n                width: 0,\r\n                height: 0\r\n            }\r\n        }\r\n        return bBox\r\n    },\r\n    hideInsideLabel: noop,\r\n    _getShiftLabelCoords: function(label) {\r\n        var coord = this._addLabelAlignmentAndOffset(label, this._getLabelCoords(label));\r\n        return this._checkLabelPosition(label, coord)\r\n    },\r\n    _drawLabel: function() {\r\n        var customVisibility = this._getCustomLabelVisibility();\r\n        var label = this._label;\r\n        var isVisible = this._showForZeroValues() && this.hasValue() && false !== customVisibility && (this.series.getLabelVisibility() || customVisibility);\r\n        label.draw(!!isVisible)\r\n    },\r\n    correctLabelPosition: function(label) {\r\n        var coord = this._getShiftLabelCoords(label);\r\n        if (!this.hideInsideLabel(label, coord)) {\r\n            label.setFigureToDrawConnector(this._getLabelConnector(label.pointPosition));\r\n            label.shift(_round(coord.x), _round(coord.y))\r\n        }\r\n    },\r\n    _showForZeroValues: function() {\r\n        return true\r\n    },\r\n    _getLabelConnector: function(pointPosition) {\r\n        var bBox = this._getGraphicBBox(pointPosition);\r\n        var w2 = bBox.width / 2;\r\n        var h2 = bBox.height / 2;\r\n        return {\r\n            x: bBox.x + w2,\r\n            y: bBox.y + h2,\r\n            r: this._options.visible ? Math.max(w2, h2) : 0\r\n        }\r\n    },\r\n    _getPositionFromLocation: function() {\r\n        return {\r\n            x: this.x,\r\n            y: this.y\r\n        }\r\n    },\r\n    _isPointInVisibleArea: function(visibleArea, graphicBBox) {\r\n        return visibleArea.minX <= graphicBBox.x + graphicBBox.width && visibleArea.maxX >= graphicBBox.x && visibleArea.minY <= graphicBBox.y + graphicBBox.height && visibleArea.maxY >= graphicBBox.y\r\n    },\r\n    _checkLabelPosition: function(label, coord) {\r\n        var visibleArea = this._getVisibleArea();\r\n        var labelBBox = label.getBoundingRect();\r\n        var graphicBBox = this._getGraphicBBox(label.pointPosition);\r\n        var fullGraphicBBox = this._getGraphicBBox();\r\n        var isInside = \"inside\" === label.getLayoutOptions().position;\r\n        var offset = LABEL_OFFSET;\r\n        if (this._isPointInVisibleArea(visibleArea, fullGraphicBBox)) {\r\n            if (!this._options.rotated) {\r\n                if (visibleArea.minX > coord.x) {\r\n                    coord.x = visibleArea.minX\r\n                }\r\n                if (visibleArea.maxX < coord.x + labelBBox.width) {\r\n                    coord.x = visibleArea.maxX - labelBBox.width\r\n                }\r\n                if (visibleArea.minY > coord.y) {\r\n                    coord.y = isInside ? visibleArea.minY : graphicBBox.y + graphicBBox.height + offset\r\n                }\r\n                if (visibleArea.maxY < coord.y + labelBBox.height) {\r\n                    coord.y = isInside ? visibleArea.maxY - labelBBox.height : graphicBBox.y - labelBBox.height - offset\r\n                }\r\n            } else {\r\n                if (visibleArea.minX > coord.x) {\r\n                    coord.x = isInside ? visibleArea.minX : graphicBBox.x + graphicBBox.width + offset\r\n                }\r\n                if (visibleArea.maxX < coord.x + labelBBox.width) {\r\n                    coord.x = isInside ? visibleArea.maxX - labelBBox.width : graphicBBox.x - offset - labelBBox.width\r\n                }\r\n                if (visibleArea.minY > coord.y) {\r\n                    coord.y = visibleArea.minY\r\n                }\r\n                if (visibleArea.maxY < coord.y + labelBBox.height) {\r\n                    coord.y = visibleArea.maxY - labelBBox.height\r\n                }\r\n            }\r\n        }\r\n        return coord\r\n    },\r\n    _addLabelAlignmentAndOffset: function(label, coord) {\r\n        var labelBBox = label.getBoundingRect();\r\n        var labelOptions = label.getLayoutOptions();\r\n        if (!this._options.rotated) {\r\n            if (\"left\" === labelOptions.alignment) {\r\n                coord.x += labelBBox.width / 2\r\n            } else if (\"right\" === labelOptions.alignment) {\r\n                coord.x -= labelBBox.width / 2\r\n            }\r\n        }\r\n        coord.x += labelOptions.horizontalOffset;\r\n        coord.y += labelOptions.verticalOffset;\r\n        return coord\r\n    },\r\n    _getLabelCoords: function(label) {\r\n        return this._getLabelCoordOfPosition(label, this._getLabelPosition(label.pointPosition))\r\n    },\r\n    _getLabelCoordOfPosition: function(label, position) {\r\n        var labelBBox = label.getBoundingRect();\r\n        var graphicBBox = this._getGraphicBBox(label.pointPosition);\r\n        var offset = LABEL_OFFSET;\r\n        var centerY = graphicBBox.height / 2 - labelBBox.height / 2;\r\n        var centerX = graphicBBox.width / 2 - labelBBox.width / 2;\r\n        var x = graphicBBox.x;\r\n        var y = graphicBBox.y;\r\n        switch (position) {\r\n            case \"left\":\r\n                x -= labelBBox.width + offset;\r\n                y += centerY;\r\n                break;\r\n            case \"right\":\r\n                x += graphicBBox.width + offset;\r\n                y += centerY;\r\n                break;\r\n            case \"top\":\r\n                x += centerX;\r\n                y -= labelBBox.height + offset;\r\n                break;\r\n            case \"bottom\":\r\n                x += centerX;\r\n                y += graphicBBox.height + offset;\r\n                break;\r\n            case \"inside\":\r\n                x += centerX;\r\n                y += centerY\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y\r\n        }\r\n    },\r\n    _drawMarker: function(renderer, group, animationEnabled) {\r\n        var options = this._options;\r\n        var translates = this._getTranslates(animationEnabled);\r\n        var style = this._getStyle();\r\n        this.graphic = this._createMarker(renderer, group, options.image, _extend({\r\n            translateX: translates.x,\r\n            translateY: translates.y,\r\n            points: this._populatePointShape(options.symbol, style.r)\r\n        }, style))\r\n    },\r\n    _getErrorBarSettings: function() {\r\n        return {\r\n            visibility: \"visible\"\r\n        }\r\n    },\r\n    _getErrorBarBaseEdgeLength() {\r\n        return 2 * this.getPointRadius()\r\n    },\r\n    _drawErrorBar: function(renderer, group) {\r\n        if (!this._options.errorBars) {\r\n            return\r\n        }\r\n        var options = this._options;\r\n        var errorBarOptions = options.errorBars;\r\n        var points = [];\r\n        var settings;\r\n        var pos = this._errorBarPos;\r\n        var high = this._highErrorCoord;\r\n        var low = this._lowErrorCoord;\r\n        var displayMode = _normalizeEnum(errorBarOptions.displayMode);\r\n        var isHighDisplayMode = \"high\" === displayMode;\r\n        var isLowDisplayMode = \"low\" === displayMode;\r\n        var highErrorOnly = (isHighDisplayMode || !_isDefined(low)) && _isDefined(high) && !isLowDisplayMode;\r\n        var lowErrorOnly = (isLowDisplayMode || !_isDefined(high)) && _isDefined(low) && !isHighDisplayMode;\r\n        var edgeLength = errorBarOptions.edgeLength;\r\n        if (edgeLength <= 1 && edgeLength > 0) {\r\n            edgeLength = this._getErrorBarBaseEdgeLength() * errorBarOptions.edgeLength\r\n        }\r\n        edgeLength = _floor(parseInt(edgeLength) / 2);\r\n        highErrorOnly && (low = this._baseErrorBarPos);\r\n        lowErrorOnly && (high = this._baseErrorBarPos);\r\n        if (\"none\" !== displayMode && _isDefined(high) && _isDefined(low) && _isDefined(pos)) {\r\n            !lowErrorOnly && points.push([pos - edgeLength, high, pos + edgeLength, high]);\r\n            points.push([pos, high, pos, low]);\r\n            !highErrorOnly && points.push([pos + edgeLength, low, pos - edgeLength, low]);\r\n            options.rotated && each(points, (function(_, p) {\r\n                p.reverse()\r\n            }));\r\n            settings = this._getErrorBarSettings(errorBarOptions);\r\n            if (!this._errorBar) {\r\n                this._errorBar = renderer.path(points, \"line\").attr(settings).append(group)\r\n            } else {\r\n                settings.points = points;\r\n                this._errorBar.attr(settings)\r\n            }\r\n        } else {\r\n            this._errorBar && this._errorBar.attr({\r\n                visibility: \"hidden\"\r\n            })\r\n        }\r\n    },\r\n    getTooltipParams: function() {\r\n        var graphic = this.graphic;\r\n        return {\r\n            x: this.x,\r\n            y: this.y,\r\n            offset: graphic ? graphic.getBBox().height / 2 : 0\r\n        }\r\n    },\r\n    setPercentValue: function(absTotal, total, leftHoleTotal, rightHoleTotal) {\r\n        var valuePercent = this.value / absTotal || 0;\r\n        var minValuePercent = this.minValue / absTotal || 0;\r\n        var percent = valuePercent - minValuePercent;\r\n        this._label.setDataField(\"percent\", percent);\r\n        this._label.setDataField(\"total\", total);\r\n        if (this.series.isFullStackedSeries() && this.hasValue()) {\r\n            if (this.leftHole) {\r\n                this.leftHole /= absTotal - leftHoleTotal;\r\n                this.minLeftHole /= absTotal - leftHoleTotal\r\n            }\r\n            if (this.rightHole) {\r\n                this.rightHole /= absTotal - rightHoleTotal;\r\n                this.minRightHole /= absTotal - rightHoleTotal\r\n            }\r\n            this.value = this.properValue = valuePercent;\r\n            this.minValue = !minValuePercent ? this.minValue : minValuePercent\r\n        }\r\n    },\r\n    _storeTrackerR: function() {\r\n        var navigator = window.navigator;\r\n        var r = this._options.styles.normal.r;\r\n        var minTrackerSize = hasProperty(\"ontouchstart\") || navigator.msPointerEnabled && navigator.msMaxTouchPoints || navigator.pointerEnabled && navigator.maxTouchPoints ? 20 : 6;\r\n        this._options.trackerR = r < minTrackerSize ? minTrackerSize : r;\r\n        return this._options.trackerR\r\n    },\r\n    _translateErrorBars: function() {\r\n        var options = this._options;\r\n        var rotated = options.rotated;\r\n        var errorBars = options.errorBars;\r\n        var translator = this._getValTranslator();\r\n        if (!errorBars) {\r\n            return\r\n        }\r\n        _isDefined(this.lowError) && (this._lowErrorCoord = translator.translate(this.lowError));\r\n        _isDefined(this.highError) && (this._highErrorCoord = translator.translate(this.highError));\r\n        this._errorBarPos = _floor(rotated ? this.vy : this.vx);\r\n        this._baseErrorBarPos = \"stdDeviation\" === errorBars.type ? this._lowErrorCoord + (this._highErrorCoord - this._lowErrorCoord) / 2 : rotated ? this.vx : this.vy\r\n    },\r\n    _translate: function() {\r\n        var valTranslator = this._getValTranslator();\r\n        var argTranslator = this._getArgTranslator();\r\n        if (this._options.rotated) {\r\n            this.vx = this.x = valTranslator.translate(this.value);\r\n            this.vy = this.y = argTranslator.translate(this.argument);\r\n            this.minX = valTranslator.translate(this.minValue);\r\n            this.defaultX = valTranslator.translate(CANVAS_POSITION_DEFAULT)\r\n        } else {\r\n            this.vy = this.y = valTranslator.translate(this.value);\r\n            this.vx = this.x = argTranslator.translate(this.argument);\r\n            this.minY = valTranslator.translate(this.minValue);\r\n            this.defaultY = valTranslator.translate(CANVAS_POSITION_DEFAULT)\r\n        }\r\n        this._translateErrorBars();\r\n        this._calculateVisibility(this.x, this.y)\r\n    },\r\n    _updateData: function(data) {\r\n        this.value = this.properValue = this.initialValue = this.originalValue = data.value;\r\n        this.minValue = this.initialMinValue = this.originalMinValue = _isDefined(data.minValue) ? data.minValue : CANVAS_POSITION_DEFAULT\r\n    },\r\n    _getImageSettings: function(image) {\r\n        return {\r\n            href: image.url || image.toString(),\r\n            width: image.width || DEFAULT_IMAGE_WIDTH,\r\n            height: image.height || DEFAULT_IMAGE_HEIGHT\r\n        }\r\n    },\r\n    getCrosshairData: function() {\r\n        var r = this._options.rotated;\r\n        var value = this.properValue;\r\n        var argument = this.argument;\r\n        return {\r\n            x: this.vx,\r\n            y: this.vy,\r\n            xValue: r ? value : argument,\r\n            yValue: r ? argument : value,\r\n            axis: this.series.axis\r\n        }\r\n    },\r\n    getPointRadius: function() {\r\n        var style = this._getStyle();\r\n        var options = this._options;\r\n        var r = style.r;\r\n        var extraSpace;\r\n        var symbol = options.symbol;\r\n        var isSquare = \"square\" === symbol;\r\n        var isTriangle = \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol;\r\n        if (options.visible && !options.image && r) {\r\n            extraSpace = style[\"stroke-width\"] / 2;\r\n            return (isSquare || isTriangle ? 1.4 * r : r) + extraSpace\r\n        }\r\n        return 0\r\n    },\r\n    _updateMarker: function(animationEnabled, style) {\r\n        var options = this._options;\r\n        var settings;\r\n        var image = options.image;\r\n        var visibility = !this.isVisible() ? {\r\n            visibility: \"hidden\"\r\n        } : {};\r\n        if (this._checkImage(image)) {\r\n            settings = _extend({}, {\r\n                visibility: style.visibility\r\n            }, visibility, this._getImageSettings(image))\r\n        } else {\r\n            settings = _extend({}, style, visibility, {\r\n                points: this._populatePointShape(options.symbol, style.r)\r\n            })\r\n        }\r\n        if (!animationEnabled) {\r\n            settings.translateX = this.x;\r\n            settings.translateY = this.y\r\n        }\r\n        this.graphic.attr(settings).sharp()\r\n    },\r\n    _getLabelFormatObject: function() {\r\n        return {\r\n            argument: this.initialArgument,\r\n            value: this.initialValue,\r\n            originalArgument: this.originalArgument,\r\n            originalValue: this.originalValue,\r\n            seriesName: this.series.name,\r\n            lowErrorValue: this.lowError,\r\n            highErrorValue: this.highError,\r\n            point: this\r\n        }\r\n    },\r\n    _getLabelPosition: function() {\r\n        var rotated = this._options.rotated;\r\n        if (this.initialValue > 0) {\r\n            return rotated ? \"right\" : \"top\"\r\n        } else {\r\n            return rotated ? \"left\" : \"bottom\"\r\n        }\r\n    },\r\n    _getFormatObject: function(tooltip) {\r\n        var labelFormatObject = this._label.getData();\r\n        return _extend({}, labelFormatObject, {\r\n            argumentText: tooltip.formatValue(this.initialArgument, \"argument\"),\r\n            valueText: tooltip.formatValue(this.initialValue)\r\n        }, _isDefined(labelFormatObject.percent) ? {\r\n            percentText: tooltip.formatValue(labelFormatObject.percent, \"percent\")\r\n        } : {}, _isDefined(labelFormatObject.total) ? {\r\n            totalText: tooltip.formatValue(labelFormatObject.total)\r\n        } : {})\r\n    },\r\n    getMarkerVisibility: function() {\r\n        return this._options.visible\r\n    },\r\n    coordsIn: function(x, y) {\r\n        var trackerRadius = this._storeTrackerR();\r\n        return x >= this.x - trackerRadius && x <= this.x + trackerRadius && y >= this.y - trackerRadius && y <= this.y + trackerRadius\r\n    },\r\n    getMinValue: function(noErrorBar) {\r\n        var errorBarOptions = this._options.errorBars;\r\n        if (errorBarOptions && !noErrorBar) {\r\n            var displayMode = errorBarOptions.displayMode;\r\n            var lowValue = \"high\" !== displayMode && _isDefined(this.lowError) ? this.lowError : this.value;\r\n            var highValue = \"low\" !== displayMode && _isDefined(this.highError) ? this.highError : this.value;\r\n            return lowValue < highValue ? lowValue : highValue\r\n        } else {\r\n            return this.value\r\n        }\r\n    },\r\n    getMaxValue: function(noErrorBar) {\r\n        var errorBarOptions = this._options.errorBars;\r\n        if (errorBarOptions && !noErrorBar) {\r\n            var displayMode = errorBarOptions.displayMode;\r\n            var lowValue = \"high\" !== displayMode && _isDefined(this.lowError) ? this.lowError : this.value;\r\n            var highValue = \"low\" !== displayMode && _isDefined(this.highError) ? this.highError : this.value;\r\n            return lowValue > highValue ? lowValue : highValue\r\n        } else {\r\n            return this.value\r\n        }\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}